
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>MTLDevice API · 个人博客</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="苏沫漓">
        
        
    
    <link rel="stylesheet" href="../../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="MDLMesh.html" />
    
    
    <link rel="prev" href="MTKView.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../../">
            
                <a href="../../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../计算机基础.html">
            
                <a href="../../计算机基础.html">
            
                    
                    计算机基础
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../计算机组成篇/计算机概述篇.html">
            
                <a href="../../计算机组成篇/计算机概述篇.html">
            
                    
                    第一部分 计算机的组成
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="../../计算机组成篇/计算机组成篇.html">
            
                <a href="../../计算机组成篇/计算机组成篇.html">
            
                    
                    计算机组成篇
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.2" data-path="../../计算机组成篇/计算机计算篇.html">
            
                <a href="../../计算机组成篇/计算机计算篇.html">
            
                    
                    计算机计算篇
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../操作系统篇/操作系统基础篇.html">
            
                <a href="../../操作系统篇/操作系统基础篇.html">
            
                    
                    第二部分 操作系统篇
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../../操作系统篇/进程管理篇.html">
            
                <a href="../../操作系统篇/进程管理篇.html">
            
                    
                    进程管理篇
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../../操作系统篇/内存管理篇.html">
            
                <a href="../../操作系统篇/内存管理篇.html">
            
                    
                    内存管理篇
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.3" data-path="../../操作系统篇/文件系统篇.html">
            
                <a href="../../操作系统篇/文件系统篇.html">
            
                    
                    文件系统篇
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.4" data-path="../../操作系统篇/操作系统提升篇.html">
            
                <a href="../../操作系统篇/操作系统提升篇.html">
            
                    
                    操作系统提升篇
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../计算机网络/网络概述篇.html">
            
                <a href="../../计算机网络/网络概述篇.html">
            
                    
                    第三部分 网络篇
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../../计算机网络/计算机物理层.html">
            
                <a href="../../计算机网络/计算机物理层.html">
            
                    
                    计算机物理层
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="../../计算机网络/计算机数据链路层.html">
            
                <a href="../../计算机网络/计算机数据链路层.html">
            
                    
                    计算机数据链路层
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.3" data-path="../../计算机网络/计算机网络层.html">
            
                <a href="../../计算机网络/计算机网络层.html">
            
                    
                    计算机网络层
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.4" data-path="../../计算机网络/计算机传输层.html">
            
                <a href="../../计算机网络/计算机传输层.html">
            
                    
                    计算机传输层
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.5" data-path="../../计算机网络/计算机应用层.html">
            
                <a href="../../计算机网络/计算机应用层.html">
            
                    
                    计算机应用层
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.5.1" data-path="../../计算机网络/HTTP协议.html">
            
                <a href="../../计算机网络/HTTP协议.html">
            
                    
                    HTTP协议
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.5.2" data-path="../../计算机网络/HTTPS协议.html">
            
                <a href="../../计算机网络/HTTPS协议.html">
            
                    
                    HTTPS协议
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.4" >
            
                <span>
            
                    
                    第四部分 图形学基础
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.4.1" data-path="../矩阵的变换.html">
            
                <a href="../矩阵的变换.html">
            
                    
                    矩阵的变换
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.2" data-path="../三维空间的观察.html">
            
                <a href="../三维空间的观察.html">
            
                    
                    三维空间的观察
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Metal简介.html">
            
                <a href="Metal简介.html">
            
                    
                    Metal API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../../iOS开发/Runtime/Objective_C简介.html">
            
                <a href="../../../iOS开发/Runtime/Objective_C简介.html">
            
                    
                    Runtime
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../../../iOS开发/Runtime/OC之Blocks.html">
            
                <a href="../../../iOS开发/Runtime/OC之Blocks.html">
            
                    
                    OC之Blocks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="../../../iOS开发/Runtime/OC内存管理.html">
            
                <a href="../../../iOS开发/Runtime/OC内存管理.html">
            
                    
                    OC内存管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.3" data-path="../../../iOS开发/Runtime/OC内存管理之引用计数.html">
            
                <a href="../../../iOS开发/Runtime/OC内存管理之引用计数.html">
            
                    
                    OC内存管理之引用计数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.4" data-path="../../../iOS开发/Runtime/+load方法的调用历程.html">
            
                <a href="../../../iOS开发/Runtime/+load方法的调用历程.html">
            
                    
                    +load方法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.5" data-path="../../../iOS开发/Runtime/TaggedPointer.html">
            
                <a href="../../../iOS开发/Runtime/TaggedPointer.html">
            
                    
                    TaggedPointer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.6" data-path="../../../iOS开发/Runtime/方法签名.html">
            
                <a href="../../../iOS开发/Runtime/方法签名.html">
            
                    
                    消息与方法签名
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.7" data-path="../../../iOS开发/Runtime/OC_方法交换.html">
            
                <a href="../../../iOS开发/Runtime/OC_方法交换.html">
            
                    
                    方法交换
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.8" data-path="../../../iOS开发/Runtime/三次补救措施.html">
            
                <a href="../../../iOS开发/Runtime/三次补救措施.html">
            
                    
                    方法不被识别的补救
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.9" data-path="../../../iOS开发/Runtime/编译objc4.html">
            
                <a href="../../../iOS开发/Runtime/编译objc4.html">
            
                    
                    编译objc4备忘录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.10" data-path="../../../iOS开发/Runtime/Runtime_Protocol.html">
            
                <a href="../../../iOS开发/Runtime/Runtime_Protocol.html">
            
                    
                    Runtime函数库中关于协议Protocol的函数使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.11" data-path="../../../iOS开发/Runtime/Runtime_Property.html">
            
                <a href="../../../iOS开发/Runtime/Runtime_Property.html">
            
                    
                    Runtime函数库中关于属性与变量的函数使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.12" data-path="../../../iOS开发/Runtime/Runtime_Instance.html">
            
                <a href="../../../iOS开发/Runtime/Runtime_Instance.html">
            
                    
                    Runtime函数库中关于实例对象的函数使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.13" data-path="../../../iOS开发/Runtime/Runtime_Class.html">
            
                <a href="../../../iOS开发/Runtime/Runtime_Class.html">
            
                    
                    Runtime函数库中关于Class的函数使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.14" data-path="../../../iOS开发/Runtime/Runtime_Method.html">
            
                <a href="../../../iOS开发/Runtime/Runtime_Method.html">
            
                    
                    Runtime函数库中关于 Class 的函数使用
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../../iOS开发/CoreText/CoteText概述.html">
            
                <a href="../../../iOS开发/CoreText/CoteText概述.html">
            
                    
                    CoreText
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" data-path="../../../iOS开发/CoreText/CoteText排版与布局.html">
            
                <a href="../../../iOS开发/CoreText/CoteText排版与布局.html">
            
                    
                    CoteText排版与布局
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="../../../iOS开发/CoreText/CTLineRef的函数库及使用.html">
            
                <a href="../../../iOS开发/CoreText/CTLineRef的函数库及使用.html">
            
                    
                    CTLineRef的函数库及使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3" data-path="../../../iOS开发/CoreText/CTRunRef与CTRunDelegate.html">
            
                <a href="../../../iOS开发/CoreText/CTRunRef与CTRunDelegate.html">
            
                    
                    图文混排的关键：CTRunRef 与 CTRunDelegate
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" >
            
                <span>
            
                    
                    CoreImage
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="../../../iOS开发/CoreImage/图像特征CIFeature.html">
            
                <a href="../../../iOS开发/CoreImage/图像特征CIFeature.html">
            
                    
                    图像特征CIFeature
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.2" data-path="../../../iOS开发/CoreImage/图片检测CIDetector.html">
            
                <a href="../../../iOS开发/CoreImage/图片检测CIDetector.html">
            
                    
                    图片检测CIDetector
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4" >
            
                <span>
            
                    
                    CoreGraphics
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.1" data-path="../../../iOS开发/CoreGraphics/CGBitmapContext.html">
            
                <a href="../../../iOS开发/CoreGraphics/CGBitmapContext.html">
            
                    
                    CGBitmapContext
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.2" data-path="../../../iOS开发/CoreGraphics/CGContext.html">
            
                <a href="../../../iOS开发/CoreGraphics/CGContext.html">
            
                    
                    CGContext
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.3" data-path="../../../iOS开发/CoreGraphics/CGPath.html">
            
                <a href="../../../iOS开发/CoreGraphics/CGPath.html">
            
                    
                    CGPath
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.4" data-path="../../../iOS开发/CoreGraphics/CoreGraphics.html">
            
                <a href="../../../iOS开发/CoreGraphics/CoreGraphics.html">
            
                    
                    CoreGraphics
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="Metal调试.html">
            
                <a href="Metal调试.html">
            
                    
                    Metal 实践
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.5.1" data-path="Metal的简单计算.html">
            
                <a href="Metal的简单计算.html">
            
                    
                    内核计算
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.2" data-path="Metal绘制三角形.html">
            
                <a href="Metal绘制三角形.html">
            
                    
                    绘制三角形
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.3" data-path="简单的纹理贴图.md">
            
                <span>
            
                    
                    纹理贴图
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.4" data-path="CPU与GPU协调工作.html">
            
                <a href="CPU与GPU协调工作.html">
            
                    
                    CPU与GPU协调工作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.5" data-path="深度测试.html">
            
                <a href="深度测试.html">
            
                    
                    深度测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.6" data-path="读取纹理像素.md">
            
                <span>
            
                    
                    线程与线程组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.7" data-path="离屏渲染.html">
            
                <a href="离屏渲染.html">
            
                    
                    自定义MTLRenderPassDescriptor
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="Metal简介.html">
            
                <a href="Metal简介.html">
            
                    
                    Metal API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.6.1" data-path="MTKView.html">
            
                <a href="MTKView.html">
            
                    
                    MTKView API
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.6.2" data-path="MTLDevice.html">
            
                <a href="MTLDevice.html">
            
                    
                    MTLDevice API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.3" data-path="MDLMesh.html">
            
                <a href="MDLMesh.html">
            
                    
                    MDLMesh API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.4" data-path="MTKModel.html">
            
                <a href="MTKModel.html">
            
                    
                    MTKMesh API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.5" data-path="MDLVertexDescriptor.html">
            
                <a href="MDLVertexDescriptor.html">
            
                    
                    MDLVertexDescriptor API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.6" data-path="MTLRenderPass.html">
            
                <a href="MTLRenderPass.html">
            
                    
                    MTLRenderPass API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.7" data-path="MTLFunction.html">
            
                <a href="MTLFunction.html">
            
                    
                    MTLFunction API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.8" data-path="MTLLibrary.html">
            
                <a href="MTLLibrary.html">
            
                    
                    MTLLibrary API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.9" data-path="MTLRegion.html">
            
                <a href="MTLRegion.html">
            
                    
                    MTLRegion API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.10" data-path="MTLTexture.html">
            
                <a href="MTLTexture.html">
            
                    
                    MTLTexture API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.11" data-path="MTLSampler.html">
            
                <a href="MTLSampler.html">
            
                    
                    MTLSampler API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.12" data-path="MTLRenderCommandEncoder.html">
            
                <a href="MTLRenderCommandEncoder.html">
            
                    
                    MTLRenderCommandEncoder API
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.7" >
            
                <span>
            
                    
                    杂记
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.7.1" data-path="../../../iOS开发/杂记/iOS渲染机制初窥.html">
            
                <a href="../../../iOS开发/杂记/iOS渲染机制初窥.html">
            
                    
                    iOS渲染机制初窥
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.2" data-path="../../../iOS开发/杂记/响应链.html">
            
                <a href="../../../iOS开发/杂记/响应链.html">
            
                    
                    响应链
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.3" data-path="../../../iOS开发/杂记/并发编程.html">
            
                <a href="../../../iOS开发/杂记/并发编程.html">
            
                    
                    并发编程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.7.3.1" data-path="../../../iOS开发/杂记/OC之Thread.html">
            
                <a href="../../../iOS开发/杂记/OC之Thread.html">
            
                    
                    线程NSThread
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.3.2" data-path="../../../iOS开发/杂记/OC之NSOperation.html">
            
                <a href="../../../iOS开发/杂记/OC之NSOperation.html">
            
                    
                    任务队列NSOperation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.3.3" data-path="../../../iOS开发/杂记/OC之GCD.html">
            
                <a href="../../../iOS开发/杂记/OC之GCD.html">
            
                    
                    GCD
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.3.4" data-path="../../../iOS开发/杂记/OC之锁.html">
            
                <a href="../../../iOS开发/杂记/OC之锁.html">
            
                    
                    锁
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.7.4" data-path="../../../iOS开发/杂记/OC的深拷贝与浅拷贝.html">
            
                <a href="../../../iOS开发/杂记/OC的深拷贝与浅拷贝.html">
            
                    
                    OC的深拷贝与浅拷贝
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.5" data-path="../../../其它/sdk_cocoapods.html">
            
                <a href="../../../其它/sdk_cocoapods.html">
            
                    
                    iOS 使用 cocoapods 创建组件化库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.6" data-path="../../../iOS开发/杂记/内存优化.html">
            
                <a href="../../../iOS开发/杂记/内存优化.html">
            
                    
                    一些内存优化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.7" data-path="../../../iOS开发/杂记/内存泄露.html">
            
                <a href="../../../iOS开发/杂记/内存泄露.html">
            
                    
                    一些内存泄漏
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.8" data-path="../../../iOS开发/杂记/OC之处理错误.html">
            
                <a href="../../../iOS开发/杂记/OC之处理错误.html">
            
                    
                    一些错误处理机制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.9" data-path="../../../iOS开发/杂记/刘海屏适配.html">
            
                <a href="../../../iOS开发/杂记/刘海屏适配.html">
            
                    
                    刘海屏适配
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7.10" data-path="../../../iOS开发/杂记/获取WIFI信息.html">
            
                <a href="../../../iOS开发/杂记/获取WIFI信息.html">
            
                    
                    获取WIFI信息
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    开发语言
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" >
            
                <span>
            
                    
                    C++
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1" data-path="../../../语言篇/C++学习入门篇.html">
            
                <a href="../../../语言篇/C++学习入门篇.html">
            
                    
                    C++学习入门篇
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.2" data-path="../../../语言篇/C++学习封装篇.html">
            
                <a href="../../../语言篇/C++学习封装篇.html">
            
                    
                    C++学习封装篇
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3" data-path="../../../语言篇/C++学习继承篇.html">
            
                <a href="../../../语言篇/C++学习继承篇.html">
            
                    
                    C++学习继承篇
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4" data-path="../../../语言篇/C++学习多态篇.html">
            
                <a href="../../../语言篇/C++学习多态篇.html">
            
                    
                    C++学习多态篇
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" >
            
                <span>
            
                    
                    C
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../../../语言篇/C数组.html">
            
                <a href="../../../语言篇/C数组.html">
            
                    
                    C语言数组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="../../../语言篇/C结构.html">
            
                <a href="../../../语言篇/C结构.html">
            
                    
                    C语言结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="../../../语言篇/C递归.html">
            
                <a href="../../../语言篇/C递归.html">
            
                    
                    递归
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    其它
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../../Git体系/Git常用命令.html">
            
                <a href="../../../Git体系/Git常用命令.html">
            
                    
                    Git常用命令
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../../Git体系/Github和SSH密钥.html">
            
                <a href="../../../Git体系/Github和SSH密钥.html">
            
                    
                    Github和SSH密钥
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../../../Gitbook指导/">
            
                <a href="../../../Gitbook指导/">
            
                    
                    GitBook 使用教程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.3.1" data-path="../../../Gitbook指导/gitbook教程.html">
            
                <a href="../../../Gitbook指导/gitbook教程.html">
            
                    
                    GitBook 安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.2" data-path="../../../Gitbook指导/gitbook语法.html">
            
                <a href="../../../Gitbook指导/gitbook语法.html">
            
                    
                    GitBook 使用
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.sumoli.work" target="blank" class="gitbook-link">
            博客主页
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../.." >MTLDevice API</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#mtldevice"><b></b>MTLDevice</a></li><li><span class="title-icon "></span><a href="#&#x83B7;&#x53D6;&#x8BBE;&#x5907;"><b></b>&#x83B7;&#x53D6;&#x8BBE;&#x5907;</a></li><li><span class="title-icon "></span><a href="#&#x67E5;&#x8BE2;-gpu-&#x5C5E;&#x6027;"><b></b>&#x67E5;&#x8BE2; GPU &#x5C5E;&#x6027;</a></li><li><span class="title-icon "></span><a href="#&#x521B;&#x5EFA;&#x7740;&#x8272;&#x5668;&#x5E93;"><b></b>&#x521B;&#x5EFA;&#x7740;&#x8272;&#x5668;&#x5E93;</a></li><li><span class="title-icon "></span><a href="#&#x521B;&#x5EFA;&#x7F13;&#x51B2;&#x533A;"><b></b>&#x521B;&#x5EFA;&#x7F13;&#x51B2;&#x533A;</a></li><li><span class="title-icon "></span><a href="#&#x521B;&#x5EFA;&#x6E32;&#x67D3;&#x7BA1;&#x9053;"><b></b>&#x521B;&#x5EFA;&#x6E32;&#x67D3;&#x7BA1;&#x9053;</a></li><li><span class="title-icon "></span><a href="#&#x521B;&#x5EFA;&#x7EB9;&#x7406;"><b></b>&#x521B;&#x5EFA;&#x7EB9;&#x7406;</a></li><li><span class="title-icon "></span><a href="#&#x521B;&#x5EFA;&#x547D;&#x4EE4;&#x961F;&#x5217;"><b></b>&#x521B;&#x5EFA;&#x547D;&#x4EE4;&#x961F;&#x5217;</a></li><li><span class="title-icon "></span><a href="#&#x521B;&#x5EFA;&#x8BA1;&#x7B97;&#x7BA1;&#x9053;"><b></b>&#x521B;&#x5EFA;&#x8BA1;&#x7B97;&#x7BA1;&#x9053;</a></li><li><span class="title-icon "></span><a href="#&#x67E5;&#x627E;&#x8FDE;&#x63A5;&#x7684;-gpu-&#x7EC4;"><b></b>&#x67E5;&#x627E;&#x8FDE;&#x63A5;&#x7684; GPU &#x7EC4;</a></li><ul><li><span class="title-icon "></span><a href="#&#x5728;&#x8FDE;&#x63A5;&#x7684;-gpu-&#x7EC4;&#x4E4B;&#x95F4;&#x4F20;&#x8F93;&#x6570;&#x636E;"><b></b>&#x5728;&#x8FDE;&#x63A5;&#x7684; GPU &#x7EC4;&#x4E4B;&#x95F4;&#x4F20;&#x8F93;&#x6570;&#x636E;</a></li></ul><li><span class="title-icon "></span><a href="#&#x786E;&#x5B9A;&#x7EBF;&#x7A0B;&#x7EC4;&#x9650;&#x5236;"><b></b>&#x786E;&#x5B9A;&#x7EBF;&#x7A0B;&#x7EC4;&#x9650;&#x5236;</a></li><li><span class="title-icon "></span><a href="#&#x521B;&#x5EFA;&#x6DF1;&#x5EA6;&#x6D4B;&#x8BD5;&#x6216;&#x6A21;&#x677F;&#x6D4B;&#x8BD5;"><b></b>&#x521B;&#x5EFA;&#x6DF1;&#x5EA6;&#x6D4B;&#x8BD5;&#x6216;&#x6A21;&#x677F;&#x6D4B;&#x8BD5;</a></li><li><span class="title-icon "></span><a href="#&#x67E5;&#x8BE2;&#x8BA1;&#x6570;&#x5668;&#x91C7;&#x6837;&#x652F;&#x6301;"><b></b>&#x67E5;&#x8BE2;&#x8BA1;&#x6570;&#x5668;&#x91C7;&#x6837;&#x652F;&#x6301;</a></li><li><span class="title-icon "></span><a href="#&#x67E5;&#x8BE2;&#x7279;&#x5F81;&#x96C6;&#x548C;-gpu-&#x7CFB;&#x5217;"><b></b>&#x67E5;&#x8BE2;&#x7279;&#x5F81;&#x96C6;&#x548C; GPU &#x7CFB;&#x5217;</a></li><li><span class="title-icon "></span><a href="#&#x67E5;&#x8BE2;&#x53C2;&#x6570;&#x7F13;&#x51B2;&#x533A;&#x652F;&#x6301;"><b></b>&#x67E5;&#x8BE2;&#x53C2;&#x6570;&#x7F13;&#x51B2;&#x533A;&#x652F;&#x6301;</a></li><li><span class="title-icon "></span><a href="#&#x67E5;&#x8BE2;&#x52A8;&#x6001;&#x5E93;&#x548C;&#x51FD;&#x6570;&#x652F;&#x6301;"><b></b>&#x67E5;&#x8BE2;&#x52A8;&#x6001;&#x5E93;&#x548C;&#x51FD;&#x6570;&#x652F;&#x6301;</a></li><li><span class="title-icon "></span><a href="#&#x67E5;&#x8BE2;&#x5149;&#x7EBF;&#x8FFD;&#x8E2A;&#x652F;&#x6301;"><b></b>&#x67E5;&#x8BE2;&#x5149;&#x7EBF;&#x8FFD;&#x8E2A;&#x652F;&#x6301;</a></li><li><span class="title-icon "></span><a href="#&#x67E5;&#x8BE2;&#x6E32;&#x67D3;&#x7279;&#x6027;&#x652F;&#x6301;"><b></b>&#x67E5;&#x8BE2;&#x6E32;&#x67D3;&#x7279;&#x6027;&#x652F;&#x6301;</a></li><li><span class="title-icon "></span><a href="#&#x67E5;&#x8BE2;&#x7EB9;&#x7406;&#x548C;&#x91C7;&#x6837;&#x5668;&#x652F;&#x6301;"><b></b>&#x67E5;&#x8BE2;&#x7EB9;&#x7406;&#x548C;&#x91C7;&#x6837;&#x5668;&#x652F;&#x6301;</a></li><li><span class="title-icon "></span><a href="#&#x4E3A;&#x5149;&#x7EBF;&#x8FFD;&#x8E2A;&#x521B;&#x5EFA;&#x52A0;&#x901F;&#x7ED3;&#x6784;"><b></b>&#x4E3A;&#x5149;&#x7EBF;&#x8FFD;&#x8E2A;&#x521B;&#x5EFA;&#x52A0;&#x901F;&#x7ED3;&#x6784;</a></li><li><span class="title-icon "></span><a href="#&#x521B;&#x5EFA;&#x53C2;&#x6570;&#x7F13;&#x51B2;&#x533A;&#x7F16;&#x7801;&#x5668;"><b></b>&#x521B;&#x5EFA;&#x53C2;&#x6570;&#x7F13;&#x51B2;&#x533A;&#x7F16;&#x7801;&#x5668;</a></li><li><span class="title-icon "></span><a href="#&#x521B;&#x5EFA;&#x4E8C;&#x8FDB;&#x5236;&#x7740;&#x8272;&#x5668;&#x6863;&#x6848;"><b></b>&#x521B;&#x5EFA;&#x4E8C;&#x8FDB;&#x5236;&#x7740;&#x8272;&#x5668;&#x6863;&#x6848;</a></li><li><span class="title-icon "></span><a href="#&#x521B;&#x5EFA;&#x8BA1;&#x6570;&#x5668;&#x6837;&#x672C;&#x7F13;&#x51B2;&#x533A;"><b></b>&#x521B;&#x5EFA;&#x8BA1;&#x6570;&#x5668;&#x6837;&#x672C;&#x7F13;&#x51B2;&#x533A;</a></li><li><span class="title-icon "></span><a href="#&#x521B;&#x5EFA;&#x52A8;&#x6001;&#x7740;&#x8272;&#x5668;&#x5E93;"><b></b>&#x521B;&#x5EFA;&#x52A8;&#x6001;&#x7740;&#x8272;&#x5668;&#x5E93;</a></li><li><span class="title-icon "></span><a href="#&#x521B;&#x5EFA;&#x4E8B;&#x4EF6;"><b></b>&#x521B;&#x5EFA;&#x4E8B;&#x4EF6;</a></li><li><span class="title-icon "></span><a href="#&#x521B;&#x5EFA;&#x6805;&#x680F;"><b></b>&#x521B;&#x5EFA;&#x6805;&#x680F;</a></li><li><span class="title-icon "></span><a href="#&#x521B;&#x5EFA;&#x95F4;&#x63A5;&#x547D;&#x4EE4;&#x7F13;&#x51B2;&#x533A;"><b></b>&#x521B;&#x5EFA;&#x95F4;&#x63A5;&#x547D;&#x4EE4;&#x7F13;&#x51B2;&#x533A;</a></li><li><span class="title-icon "></span><a href="#&#x521B;&#x5EFA;&#x5149;&#x6805;&#x5316;&#x7387;&#x56FE;"><b></b>&#x521B;&#x5EFA;&#x5149;&#x6805;&#x5316;&#x7387;&#x56FE;</a></li><li><span class="title-icon "></span><a href="#&#x521B;&#x5EFA;&#x8D44;&#x6E90;&#x5806;"><b></b>&#x521B;&#x5EFA;&#x8D44;&#x6E90;&#x5806;</a></li><li><span class="title-icon "></span><a href="#&#x521B;&#x5EFA;&#x91C7;&#x6837;&#x5668;"><b></b>&#x521B;&#x5EFA;&#x91C7;&#x6837;&#x5668;</a></li><li><span class="title-icon "></span><a href="#&#x7BA1;&#x7406;-gpu-&#x5185;&#x5B58;"><b></b>&#x7BA1;&#x7406; GPU &#x5185;&#x5B58;</a></li><li><span class="title-icon "></span><a href="#&#x8BFB;&#x53D6;&#x65F6;&#x95F4;&#x6233;"><b></b>&#x8BFB;&#x53D6;&#x65F6;&#x95F4;&#x6233;</a></li><li><span class="title-icon "></span><a href="#&#x4F7F;&#x7528;&#x7A00;&#x758F;&#x7EB9;&#x7406;&#x5E73;&#x94FA;"><b></b>&#x4F7F;&#x7528;&#x7A00;&#x758F;&#x7EB9;&#x7406;&#x5E73;&#x94FA;</a></li><li><span class="title-icon "></span><a href="#&#x5B9E;&#x4F8B;&#x5C5E;&#x6027;"><b></b>&#x5B9E;&#x4F8B;&#x5C5E;&#x6027;</a></li><li><span class="title-icon "></span><a href="#&#x5B9E;&#x4F8B;&#x65B9;&#x6CD5;"><b></b>&#x5B9E;&#x4F8B;&#x65B9;&#x6CD5;</a></li></ul></div><h1 id="mtldevice"><a name="mtldevice" class="anchor-navigation-ex-anchor" href="#mtldevice"><i class="fa fa-link" aria-hidden="true"></i></a>MTLDevice</h1>
<p><a href="https://developer.apple.com/documentation/metal/mtldevice?language=objc" target="_blank">MTLDevice</a> &#x7528;&#x4E8E;&#x7ED8;&#x5236;&#x56FE;&#x5F62;&#x6216;&#x8FDB;&#x884C;&#x5E76;&#x884C;&#x8BA1;&#x7B97;&#x7684; GPU &#x63A5;&#x53E3;&#xFF01;</p>
<h1 id="&#x83B7;&#x53D6;&#x8BBE;&#x5907;"><a name="&#x83B7;&#x53D6;&#x8BBE;&#x5907;" class="anchor-navigation-ex-anchor" href="#&#x83B7;&#x53D6;&#x8BBE;&#x5907;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x83B7;&#x53D6;&#x8BBE;&#x5907;</h1>
<pre><code>/** &#x83B7;&#x53D6;&#x7CFB;&#x7EDF;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x7684; Metal device
 * &#x5728; MacOS &#x7CFB;&#x7EDF;&#x4F1A;&#x5207;&#x6362;&#x5230;&#x9AD8;&#x529F;&#x7387; GPU&#xFF0C;&#x652F;&#x6301;&#x81EA;&#x52A8;&#x56FE;&#x5F62;&#x5207;&#x6362;&#xFF1B;
 * &#x5728;&#x5176;&#x4ED6;&#x652F;&#x6301;&#x591A;&#x4E2A;GPU&#x7684;&#x7CFB;&#x7EDF;&#x4E0A;&#xFF0C;&#x5B83;&#x5C06;&#x4E0E;&#x4E3B;&#x663E;&#x793A;&#x76F8;&#x5173;&#x8054;
 */
id &lt;MTLDevice&gt; __nullable MTLCreateSystemDefaultDevice(void);

/** &#x83B7;&#x53D6;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x6240;&#x6709; Metal &#x8BBE;&#x5907;
 * @discussion &#x8FD9;&#x4E2A; API &#x4E0D;&#x4F1A;&#x5BFC;&#x81F4;&#x7CFB;&#x7EDF;&#x5207;&#x6362; GPU &#x8BBE;&#x5907;&#xFF0C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x9009;&#x62E9;&#x5408;&#x9002;&#x7684;&#x6807;&#x51C6;&#x6765;&#x51B3;&#x5B9A;&#x4F7F;&#x7528;&#x54EA;&#x4E2A;GPU
 */
NSArray &lt;id&lt;MTLDevice&gt;&gt; *MTLCopyAllDevices(void);

/** &#x83B7;&#x53D6;&#x53EF;&#x7528;&#x7684; Metal &#x8BBE;&#x5907;&#x5217;&#x8868;&#xFF0C;&#x5E76;&#x4E3A;&#x5217;&#x8868;&#x7684;&#x66F4;&#x6539;(&#x589E;&#x52A0;&#xFF0C;&#x5220;&#x9664;&#x7B49;)&#x6CE8;&#x518C;&#x4E00;&#x4E2A;&#x901A;&#x77E5;&#x89C2;&#x5BDF;&#x8005;
 * @param observer &#x63A5;&#x6536;&#x8BBE;&#x5907;&#x901A;&#x77E5;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x89C2;&#x5BDF;&#x8005;&#x5BF9;&#x8C61;&#x7531; Metal &#x4FDD;&#x7559;&#xFF08;retainCount +1 &#xFF09;&#xFF01;
 *                 &#x8C03;&#x7528; MTLRemoveDeviceObserver() &#x51FD;&#x6570;&#xFF0C;&#x79FB;&#x9664;&#x89C2;&#x5BDF;&#x8005;
 * @param handler &#x5F53;&#x6536;&#x5230;&#x8BBE;&#x5907;&#x901A;&#x77E5;&#x65F6;&#x8C03;&#x7528;&#x7684;&#x4EE3;&#x7801;&#x5757;
 */
NSArray &lt;id&lt;MTLDevice&gt;&gt; *MTLCopyAllDevicesWithObserver(id &lt;NSObject&gt; __nullable __strong * __nonnull observer, MTLDeviceNotificationHandler handler);

// &#x79FB;&#x9664;&#x4E4B;&#x524D;&#x5B89;&#x88C5;&#x7684;&#x8BBE;&#x5907;&#x66F4;&#x6539;&#x901A;&#x77E5;&#x89C2;&#x5BDF;&#x8005;
void MTLRemoveDeviceObserver(id &lt;NSObject&gt; observer);

/** &#x6839;&#x636E;&#x6307;&#x5B9A;&#x6807;&#x8BC6;&#x7B26;&#x83B7;&#x53D6;&#x663E;&#x793A;&#x5668;
 * @note &#x5F53;&#x81EA;&#x52A8;&#x56FE;&#x5F62;&#x5207;&#x6362;&#x5F00;&#x542F;&#x65F6;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x8BBE;&#x5907;&#x53EF;&#x80FD;&#x968F;&#x65F6;&#x6539;&#x53D8;
 */
id&lt;MTLDevice&gt; CGDirectDisplayCopyCurrentMetalDevice(CGDirectDisplayID display);
</code></pre><h1 id="&#x67E5;&#x8BE2;-gpu-&#x5C5E;&#x6027;"><a name="&#x67E5;&#x8BE2;-gpu-&#x5C5E;&#x6027;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x8BE2;-gpu-&#x5C5E;&#x6027;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x8BE2; GPU &#x5C5E;&#x6027;</h1>
<pre><code>/** &#x5728;&#x6027;&#x80FD;&#x826F;&#x597D;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8BE5;&#x8BBE;&#x5907;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x591A;&#x5C11;&#x5185;&#x5B58;&#xFF08;&#x5355;&#x4F4D;&#x662F;&#x5B57;&#x8282;&#xFF09;
 * @note &#x5982;&#x679C;&#x8BBE;&#x5907;&#x8FC7;&#x5EA6;&#x4F7F;&#x7528;&#xFF0C;&#x5BFC;&#x81F4;&#x8D85;&#x8FC7;&#x8FD9;&#x4E2A;&#x9608;&#x503C;&#xFF0C;&#x4F1A;&#x51FA;&#x73B0;&#x6027;&#x80FD;&#x635F;&#x5931;&#xFF1B;
 *       &#x56E0;&#x6B64;&#x9700;&#x8981;&#x4FDD;&#x6301;&#x4E0E;&#x6B64;&#x8BBE;&#x5907;&#x5BF9;&#x8C61;&#x5173;&#x8054;&#x7684;&#x6240;&#x6709;&#x8D44;&#x6E90;&#x5C0F;&#x4E8E;&#x8FD9;&#x4E2A;&#x9608;&#x503C;
 */
@property (readonly) uint64_t recommendedMaxWorkingSetSize;

/** &#x6307;&#x793A; GPU &#x662F;&#x5426;&#x4E0E; CPU &#x5171;&#x4EAB;&#x5176;&#x5185;&#x5B58;
 * @return YES &#x6709;&#x4E9B; GPU &#x6CA1;&#x6709;&#x4E13;&#x7528;&#x7684;&#x672C;&#x5730;&#x5185;&#x5B58;&#xFF0C;&#x9700;&#x8981;&#x4E0E; CPU &#x5171;&#x4EAB;CPU&#x5185;&#x5B58;
 * @return NO &#x8868;&#x793A; GPU &#x6709;&#x81EA;&#x5DF1;&#x7684;&#x4E13;&#x7528;&#x5185;&#x5B58;&#xFF0C;&#x6B64;&#x65F6;&#x540C;&#x6B65;&#x6258;&#x7BA1;&#x8D44;&#x6E90;&#x6216;&#x5C06;&#x6570;&#x636E;&#x590D;&#x5236;&#x5230;&#x4E0E;&#x6B64;GPU&#x76F8;&#x5173;&#x7684;&#x79C1;&#x6709;&#x8D44;&#x6E90;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x989D;&#x5916;&#x7684;&#x65F6;&#x95F4;
 */
@property (readonly) BOOL hasUnifiedMemory;

/** &#x7CFB;&#x7EDF; RAM &#x548C;&#x4E13;&#x7528; GPU&#x5185;&#x5B58;(VRAM)&#x4E4B;&#x95F4;&#x7684;&#x6700;&#x9AD8;&#x7406;&#x8BBA;&#x4F20;&#x8F93;&#x901F;&#x7387;&#xFF0C;&#x5355;&#x4F4D;&#x4E3A;&#x5B57;&#x8282;/&#x79D2;
 * @note &#x5BF9;&#x4E8E;&#x5185;&#x7F6E; GPU&#xFF0C;&#x8FD9;&#x4E2A;&#x503C;&#x662F; 0
 * @discussion &#x8FD9;&#x662F;&#x7531;&#x539F;&#x59CB;&#x6570;&#x636E;&#x65F6;&#x949F;&#x901F;&#x7387;&#x5BFC;&#x51FA;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x771F;&#x5B9E;&#x4E16;&#x754C;&#x7684;&#x6761;&#x4EF6;&#x4E0B;&#x53EF;&#x80FD;&#x65E0;&#x6CD5;&#x8FBE;&#x5230;&#x3002;
 */
@property (readonly) uint64_t maxTransferRate;

/// &#x5382;&#x5546;&#x8BBE;&#x5907;&#x7684;&#x5168;&#x540D;
@property (nonnull, readonly) NSString *name;

/** &#x6307;&#x793A;&#x8BBE;&#x5907;&#x662F;&#x5426;&#x88AB;&#x914D;&#x7F6E;&#x4E3A; headless, &#x4EC5;&#x5728; MacOS &#x4E0A;&#x53EF;&#x7528;
 * @return YES &#x5728;&#x5305;&#x542B;&#x591A;&#x4E2A;GPU&#x7684;&#x7CFB;&#x7EDF;&#x4E0A;&#xFF0C;&#x8BE5;&#x8BBE;&#x5907;&#x4E0D;&#x9644;&#x52A0;&#x4EFB;&#x4F55;&#x663E;&#x793A;&#x4FE1;&#x606F;
 */
@property (readonly, getter=isHeadless) BOOL headless;

/** &#x662F;&#x5426;&#x662F;&#x4F4E;&#x529F;&#x8017;&#x7684; GPU &#x8BBE;&#x5907;
 * @discussion &#x6709;&#x4E9B; Mac &#x5305;&#x542B;&#x591A;&#x4E2A; GPU&#xFF0C;&#x8FD0;&#x884C;&#x65F6;&#x5177;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x6027;&#x80FD;&#x548C;&#x80FD;&#x91CF;&#x7279;&#x5F81;&#xFF0C;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x7B26;&#x5408;&#x9700;&#x6C42;&#x548C;&#x5F53;&#x524D; CPU &#x72B6;&#x6001;&#x7684; GPU
 *      &#x5982;&#x679C; MacBook Pro &#x662F;&#x9760;&#x7535;&#x6C60;&#x4F9B;&#x7535;&#x8FD0;&#x884C;&#xFF0C;&#x53C8;&#x5BF9;&#x6027;&#x80FD;&#x7684;&#x8981;&#x6C42;&#x4E0D;&#x9AD8;&#xFF0C;&#x5219;&#x9009;&#x62E9;&#x4F4E;&#x529F;&#x8017;&#x7684; GPU
 *      M1&#x82AF;&#x7247;&#x53EA;&#x6709;&#x4E00;&#x4E2A;GPU&#xFF0C;&#x8FD0;&#x884C;&#x65F6;&#x517C;&#x5177;&#x9AD8;&#x6027;&#x80FD;&#x548C;&#x4F4E;&#x529F;&#x8017;&#xFF0C;&#x56E0;&#x6B64;&#x8FD4;&#x56DE; NO
 *      &#x901A;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5BF9;&#x4E8E;&#x96C6;&#x6210;GPU&#x5C5E;&#x6027;&#x662F; YES&#xFF0C;&#x5BF9;&#x4E8E;&#x79BB;&#x6563;GPU&#x5C5E;&#x6027;&#x662F; NO
 */
@property (readonly, getter=isLowPower) BOOL lowPower;

/** GPU &#x662F;&#x5426;&#x53EF;&#x79FB;&#x52A8; 
 * &#x5982;&#x679C;GPU&#x5728;&#x6CA1;&#x6709;&#x8B66;&#x544A;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x88AB;&#x79FB;&#x9664;&#xFF0C;API &#x53EF;&#x80FD;&#x4F1A;&#x5728; MTLDeviceWasRemovedNotification &#x901A;&#x77E5;&#x53D1;&#x5E03;&#x4E4B;&#x524D;&#x8C03;&#x7528;&#x5931;&#x8D25;
 */
@property (readonly, getter=isRemovable) BOOL removable;

/** &#x8BBE;&#x5907;&#x7684;&#x6CE8;&#x518C;&#x8868; ID &#x503C;
 * &#x8BE5;&#x503C;&#x5BF9;&#x6240;&#x6709;&#x4EFB;&#x52A1;&#x90FD;&#x662F;&#x5168;&#x5C40;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x8DE8;&#x4EFB;&#x52A1;&#x8FB9;&#x754C;&#x6807;&#x8BC6; GPU
 * @discussion Metal &#x8BBE;&#x5907;&#x7684; registryID &#x503C;&#x5BF9;&#x6240;&#x6709;&#x4EFB;&#x52A1;&#x90FD;&#x662F;&#x5168;&#x5C40;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x8DE8;&#x4EFB;&#x52A1;&#x8FB9;&#x754C;&#x8BC6;&#x522B; GPU
 */
@property (readonly) uint64_t registryID;

/// &#x679A;&#x4E3E;&#x503C;&#xFF0C;&#x6307;&#x660E; GPU &#x76F8;&#x5BF9;&#x4E8E;&#x4E3B;&#x673A;&#x7684;&#x4F4D;&#x7F6E;
@property (readonly) MTLDeviceLocation location;

/** GPU&#x4F4D;&#x7F6E;&#x7684;&#x66F4;&#x8BE6;&#x7EC6;&#x8BF4;&#x660E;&#x7B26;&#xFF1A;&#x8868;&#x793A;&#x56FE;&#x5F62;&#x5904;&#x7406;&#x5668;&#x7ED1;&#x5B9A;&#x7684;&#x69FD;&#x4F4D;&#x6216; Thunderbolt &#x7AEF;&#x53E3;
 * &#x5BF9;&#x4E8E;&#x5185;&#x7F6E;GPU&#xFF0C;&#x5F53;GPU&#x4E3A;&#x4F4E;&#x529F;&#x8017;(lowPower)&#x65F6;&#xFF0C;&#x8BE5;&#x503C;&#x4E3A;0&#xFF0C;&#x5426;&#x5219;&#x4E3A; 1
 * &#x591A;&#x4E2A; GPU &#x6709;&#x53EF;&#x80FD;&#x6709;&#x76F8;&#x540C;&#x7684;&#x4F4D;&#x7F6E;&#x548C;&#x4F4D;&#x7F6E;&#x53F7;&#xFF0C;&#x6BD4;&#x5982;&#x4E00;&#x4E2A;&#x5361;&#x6709;&#x591A;&#x4E2A; GPU&#xFF0C;&#x6216;&#x8005;&#x591A;&#x4E2A; eGPU &#x8FDE;&#x63A5;&#x5728;&#x540C;&#x4E00;&#x4E2A;Thunderbolt&#x7AEF;&#x53E3;
 */
@property (readonly) NSUInteger locationNumber;

/// &#x679A;&#x4E3E; GPU &#x5728; macOS &#x4E0A;&#x7684;&#x4F4D;&#x7F6E;
typedef NS_ENUM(NSUInteger, MTLDeviceLocation) {
    MTLDeviceLocationBuiltIn = 0,   /// GPU&#x5185;&#x7F6E;&#x5728;&#x8BBE;&#x5907;&#x4E2D;
    MTLDeviceLocationSlot = 1,      /// GPU&#x8FDE;&#x63A5;&#x5230;&#x8BA1;&#x7B97;&#x673A;&#x5185;&#x90E8;&#x7684;&#x4E00;&#x4E2A;&#x63D2;&#x69FD;
    MTLDeviceLocationExternal = 2,  /// GPU&#x901A;&#x8FC7;&#x5916;&#x90E8;&#x63A5;&#x53E3;&#x8FDE;&#x63A5;&#xFF0C;&#x6BD4;&#x5982; Thunderbolt
    MTLDeviceLocationUnspecified = NSUIntegerMax, /// GPU&#x4F4D;&#x7F6E;&#x672A;&#x6307;&#x5B9A;&#x6216;&#x65E0;&#x6CD5;&#x786E;&#x5B9A;
};
</code></pre><h1 id="&#x521B;&#x5EFA;&#x7740;&#x8272;&#x5668;&#x5E93;"><a name="&#x521B;&#x5EFA;&#x7740;&#x8272;&#x5668;&#x5E93;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x7740;&#x8272;&#x5668;&#x5E93;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521B;&#x5EFA;&#x7740;&#x8272;&#x5668;&#x5E93;</h1>
<p>&#x5DE5;&#x7A0B;&#x4E2D;&#x6784;&#x5EFA;&#x7684;&#x6240;&#x6709; <code>.metal</code> &#x6587;&#x4EF6;&#x90FD;&#x4F1A;&#x88AB;&#x7F16;&#x8BD1;&#x5230;&#x4E00;&#x4E2A;&#x9ED8;&#x8BA4;&#x5E93;&#x4E2D;&#xFF01;</p>
<pre><code>/// &#x83B7;&#x53D6; mainBundl &#x7684;&#x9ED8;&#x8BA4;&#x5E93;&#xFF1B; &#x5982;&#x679C;&#x627E;&#x4E0D;&#x5230;&#x9ED8;&#x8BA4;&#x5E93;&#xFF0C;&#x8FD4;&#x56DE;nil
- (nullable id &lt;MTLLibrary&gt;)newDefaultLibrary;

/// &#x83B7;&#x53D6;&#x6307;&#x5B9A; NSBundle &#x7684;&#x9ED8;&#x8BA4;&#x5E93;
- (nullable id &lt;MTLLibrary&gt;)newDefaultLibraryWithBundle:(NSBundle *)bundle error:(__autoreleasing NSError **)error;

/// &#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x8DEF;&#x5F84;&#x7684;&#x5E93;&#xFF08;&#x52A0;&#x8F7D;&#x6307;&#x5B9A;&#x7684; .metal &#x6587;&#x4EF6;&#xFF09;
- (nullable id &lt;MTLLibrary&gt;)newLibraryWithFile:(NSString *)filepath error:(__autoreleasing NSError **)error;
- (nullable id &lt;MTLLibrary&gt;)newLibraryWithURL:(NSURL *)url error:(__autoreleasing NSError **)error;

/// &#x4ECE; dispatch_data_t &#x4E2D;&#x52A0;&#x8F7D;&#x4E00;&#x4E2A;.metal &#x6587;&#x4EF6;
- (nullable id &lt;MTLLibrary&gt;)newLibraryWithData:(dispatch_data_t)data error:(__autoreleasing NSError **)error;

/** &#x4ECE;&#x7F16;&#x8BD1;&#x6307;&#x5B9A;&#x6E90;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x52A0;&#x8F7D;&#x4E00;&#x4E2A;.metal &#x6587;&#x4EF6;
 * @param source &#x5305;&#x542B;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;Metal&#x51FD;&#x6570;&#x6E90;&#x4EE3;&#x7801;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x3002;
 * @param options &#x5F71;&#x54CD;&#x6E90;&#x4EE3;&#x7801;&#x7F16;&#x8BD1;&#x7684;&#x9009;&#x9879;
 * @param completionHandler &#x5F53;&#x5E93;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x65F6;&#x8C03;&#x7528;&#x7684;&#x4EE3;&#x7801;&#x5757;
 */
- (nullable id &lt;MTLLibrary&gt;)newLibraryWithSource:(NSString *)source options:(nullable MTLCompileOptions *)options error:(__autoreleasing NSError **)error;
- (void)newLibraryWithSource:(NSString *)source options:(nullable MTLCompileOptions *)options completionHandler:(MTLNewLibraryCompletionHandler)completionHandler;
</code></pre><h1 id="&#x521B;&#x5EFA;&#x7F13;&#x51B2;&#x533A;"><a name="&#x521B;&#x5EFA;&#x7F13;&#x51B2;&#x533A;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x7F13;&#x51B2;&#x533A;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521B;&#x5EFA;&#x7F13;&#x51B2;&#x533A;</h1>
<p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A; <code>MTLBuffer</code> &#x5BF9;&#x8C61;&#xFF01;</p>
<pre><code>/// &#x7F13;&#x51B2;&#x533A;&#x7684;&#x6700;&#x5927;&#x5B57;&#x8282;&#x6570;
@property (readonly) NSUInteger maxBufferLength;

/** &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6307;&#x5B9A;&#x957F;&#x5EA6;&#x7684;&#x7F13;&#x51B2;&#x533A;&#xFF0C;&#x4EE5; 0 &#x586B;&#x5145;&#x8BE5;&#x5757;&#x5185;&#x5B58;
 * @param length &#x6307;&#x5B9A;&#x7F13;&#x51B2;&#x533A;&#x7684;&#x5B57;&#x8282;&#x6570;
 * @param options &#x7F13;&#x51B2;&#x7B56;&#x7565;&#xFF08;CPU&#x6216;GPU&#x8BBF;&#x95EE;&#xFF09;
 */ 
- (nullable id &lt;MTLBuffer&gt;)newBufferWithLength:(NSUInteger)length options:(MTLResourceOptions)options;

/// &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6307;&#x5B9A;&#x957F;&#x5EA6;&#x7684;&#x7F13;&#x51B2;&#x533A;&#xFF0C;&#x5C06;&#x6307;&#x5B9A;&#x6570;&#x636E;&#x590D;&#x5236;&#x5230;&#x8BE5;&#x5757;&#x5185;&#x5B58;
- (nullable id &lt;MTLBuffer&gt;)newBufferWithBytes:(const void *)pointer length:(NSUInteger)length options:(MTLResourceOptions)options;

/** &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6307;&#x5B9A;&#x957F;&#x5EA6;&#x7684;&#x7F13;&#x51B2;&#x533A;&#xFF0C;&#x6301;&#x6709;&#x6307;&#x5B9A;&#x6570;&#x636E;&#x7684;&#x5730;&#x5740;&#x6307;&#x9488;&#xFF08;&#x800C;&#x975E;&#x590D;&#x5236;&#x8BE5;&#x5757;&#x5185;&#x5B58;&#xFF09;
 * @param &#x8BE5;&#x7F13;&#x51B2;&#x533A;&#x88AB;&#x91CA;&#x653E;&#x65F6;&#x8C03;&#x7528;&#x7684;&#x4EE3;&#x7801;&#x5757;&#xFF1B;&#x5982;&#x679C;&#x4E0D;&#x9700;&#x8981;&#x6267;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x5219;&#x4F20;&#x9012; nil&#xFF1B;
 * @note1 &#x5730;&#x5740;&#x6307;&#x9488;&#x6307;&#x5411;&#x7684;&#x5185;&#x5B58;&#x5757;&#x5FC5;&#x987B;&#x662F;&#x9875;&#x5BF9;&#x9F50;&#x7684;&#xFF1B;&#x4E0D;&#x540C;&#x7684;&#x786C;&#x4EF6;&#x53EF;&#x80FD;&#x5177;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x9875;&#x9762;&#x5927;&#x5C0F;&#xFF0C;&#x4E0D;&#x5E94;&#x8BE5;&#x5047;&#x8BBE;&#x603B;&#x662F;4&#x5343;&#x5B57;&#x8282;&#xFF1B;
 *        &#x901A;&#x5E38;&#x4F7F;&#x7528; vm_allocate &#x6216; mmap &#x5206;&#x914D;&#xFF0C;&#x4E0D;&#x80FD;&#x4F7F;&#x7528; malloc &#x5206;&#x914D;&#x7684;&#x5185;&#x5B58;&#xFF1B; 
 * @note2 &#x5728;&#x91CA;&#x653E; MTLBuffer &#x5BF9;&#x8C61;&#x5E76;&#x8C03;&#x7528; deallocator &#x4E4B;&#x524D;&#xFF0C;&#x4E0D;&#x80FD;&#x91CA;&#x653E;&#x5185;&#x5B58;,&#x53EA;&#x80FD;&#x5728; deallocator &#x4E2D;&#x91CA;&#x653E;&#x8BE5;&#x5757;&#x5185;&#x5B58;&#xFF1B;
 */
- (nullable id &lt;MTLBuffer&gt;)newBufferWithBytesNoCopy:(void *)pointer length:(NSUInteger)length options:(MTLResourceOptions)options deallocator:(void (^ __nullable)(void *pointer, NSUInteger length))deallocator;
</code></pre><h1 id="&#x521B;&#x5EFA;&#x6E32;&#x67D3;&#x7BA1;&#x9053;"><a name="&#x521B;&#x5EFA;&#x6E32;&#x67D3;&#x7BA1;&#x9053;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x6E32;&#x67D3;&#x7BA1;&#x9053;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521B;&#x5EFA;&#x6E32;&#x67D3;&#x7BA1;&#x9053;</h1>
<p><code>MTLRenderPipelineState</code> &#x662F; Metal &#x63D0;&#x4F9B;&#x7684;&#x6E32;&#x67D3;&#x7BA1;&#x9053; <code>API</code> &#xFF01; </p>
<pre><code>/// &#x540C;&#x6B65;&#x521B;&#x5EFA;&#x5E76;&#x7F16;&#x8BD1;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x6E32;&#x67D3;&#x7BA1;&#x9053;
- (nullable id &lt;MTLRenderPipelineState&gt;)newRenderPipelineStateWithDescriptor:(MTLRenderPipelineDescriptor *)descriptor error:(__autoreleasing NSError **)error;

typedef void (^MTLNewRenderPipelineStateCompletionHandler)(id &lt;MTLRenderPipelineState&gt; __nullable renderPipelineState, NSError * __nullable error);

/// &#x5F02;&#x6B65;&#x521B;&#x5EFA;&#x5E76;&#x7F16;&#x8BD1;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x6E32;&#x67D3;&#x7BA1;&#x9053;
- (void)newRenderPipelineStateWithDescriptor:(MTLRenderPipelineDescriptor *)descriptor completionHandler:(MTLNewRenderPipelineStateCompletionHandler)completionHandler;

/// &#x5F53;&#x521B;&#x5EFA;&#x6E32;&#x67D3;&#x7BA1;&#x9053;&#x7684;&#x903B;&#x8F91;&#x5B8C;&#x6210;&#x65F6;&#x8C03;&#x7528;&#x7684;&#x4EE3;&#x7801;&#x5757;: &#x8FD4;&#x56DE;&#x6E32;&#x67D3;&#x7BA1;&#x9053;&#xFF0C;&#x53CD;&#x5C04;&#x4FE1;&#x606F;&#xFF0C;&#x6216;&#x8005;&#x9519;&#x8BEF;&#x4FE1;&#x606F;
typedef void (^MTLNewRenderPipelineStateWithReflectionCompletionHandler)(id &lt;MTLRenderPipelineState&gt; __nullable renderPipelineState, MTLRenderPipelineReflection * __nullable reflection, NSError * __nullable error);

/** &#x521B;&#x5EFA;&#x5E76;&#x7F16;&#x8BD1;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x6E32;&#x67D3;&#x7BA1;&#x9053;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x989D;&#x5916;&#x7684; reflection &#x4FE1;&#x606F;
 * @param reflection &#x6307;&#x9488;&#x6307;&#x5411;&#x7684;&#x4F4D;&#x7F6E;&#x5C06;&#x88AB;&#x4E00;&#x4E2A;&#x65B0;&#x5BF9;&#x8C61;&#x586B;&#x5145;&#xFF0C;&#x5305;&#x542B;&#x9876;&#x70B9;&#x51FD;&#x6570;&#x3001;&#x7247;&#x6BB5;&#x51FD;&#x6570;&#x7684;&#x53CD;&#x5C04;&#x6570;&#x636E;&#x3001;&#x51FD;&#x6570;&#x53C2;&#x6570;&#x7684;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#x3002;
 *                   &#x5982;&#x679C;&#x7BA1;&#x9053;&#x72B6;&#x6001;&#x4E0D;&#x80FD;&#x88AB;&#x7F16;&#x8BD1;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;nil
 */ 
- (nullable id &lt;MTLRenderPipelineState&gt;)newRenderPipelineStateWithDescriptor:(MTLRenderPipelineDescriptor *)descriptor options:(MTLPipelineOption)options reflection:(MTLAutoreleasedRenderPipelineReflection * __nullable)reflection error:(__autoreleasing NSError **)error;
- (void)newRenderPipelineStateWithDescriptor:(MTLRenderPipelineDescriptor *)descriptor options:(MTLPipelineOption)options completionHandler:(MTLNewRenderPipelineStateWithReflectionCompletionHandler)completionHandler;

/** &#x4E3A;&#x74E6;&#x7247;&#x6E32;&#x67D3;&#x5668;&#x521B;&#x5EFA;&#x6E32;&#x67D3;&#x7BA1;&#x9053;&#xFF0C;&#x76F8;&#x5173;&#x7684;&#x53CD;&#x5C04;&#x4FE1;&#x606F;
 * @param descriptor &#x5305;&#x542B;&#x74E6;&#x7247;&#x51FD;&#x6570;&#x7684;&#x63CF;&#x8FF0;&#x7B26;&#x5BF9;&#x8C61;
 * @param options &#x8981;&#x8FD4;&#x56DE;&#x7684;&#x53CD;&#x5C04;&#x4FE1;&#x606F;&#x7684;&#x7C7B;&#x578B;
 */
- (void)newRenderPipelineStateWithTileDescriptor:(MTLTileRenderPipelineDescriptor *)descriptor options:(MTLPipelineOption)options completionHandler:(MTLNewRenderPipelineStateWithReflectionCompletionHandler)completionHandler;
- (nullable id &lt;MTLRenderPipelineState&gt;)newRenderPipelineStateWithTileDescriptor:(MTLTileRenderPipelineDescriptor*)descriptor options:(MTLPipelineOption)options reflection:(MTLAutoreleasedRenderPipelineReflection * __nullable)reflection error:(__autoreleasing NSError **)error;
</code></pre><h2 id=""> </h2>
<pre><code>typedef NS_OPTIONS(NSUInteger, MTLPipelineOption) {
    MTLPipelineOptionNone               = 0,       /// &#x4E0D;&#x9700;&#x63D0;&#x4F9B;&#x4EFB;&#x4F55; reflection &#x4FE1;&#x606F;

    /// &#x63D0;&#x4F9B;&#x4E86;MTLArgument&#x7684;&#x6240;&#x6709;&#x5C5E;&#x6027;&#xFF0C;&#x9664;&#x4E86;bufferStructType&#x548C;bufferPointerType&#x4E3A; nil
    /// &#x8981;&#x83B7;&#x5F97;&#x8FD9;&#x4E9B;&#x8BE6;&#x7EC6;&#x7684;&#x7F13;&#x51B2;&#x533A;&#x7C7B;&#x578B;&#x5C5E;&#x6027;&#xFF0C;&#x8FD8;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E; MTLPipelineOptionBufferTypeInfo 
    MTLPipelineOptionArgumentInfo       = 1 &lt;&lt; 0,  /// &#x8BF7;&#x6C42;&#x7F13;&#x51B2;&#x533A;&#x3001;&#x7EB9;&#x7406;&#x548C;&#x7EBF;&#x7A0B;&#x7EC4;&#x5185;&#x5B58;&#x7684;&#x53C2;&#x6570;&#x4FE1;&#x606F;

    /// &#x63D0;&#x4F9B;&#x4E86; MTLArgument &#x7684;bufferStructType&#x548C;bufferPointerType&#x5C5E;&#x6027;
    /// &#x8981;&#x83B7;&#x5F97;&#x8FD9;&#x4E9B;&#x8BE6;&#x7EC6;&#x7684;&#x7F13;&#x51B2;&#x533A;&#x7C7B;&#x578B;&#x5C5E;&#x6027;&#xFF0C;&#x8FD8;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E; MTLPipelineOptionBufferTypeInfo 
    MTLPipelineOptionBufferTypeInfo     = 1 &lt;&lt; 1,  /// &#x4E3A;&#x7F13;&#x51B2;&#x533A;&#x53C2;&#x6570;&#x8BF7;&#x6C42;&#x8BE6;&#x7EC6;&#x7684;&#x7F13;&#x51B2;&#x533A;&#x7C7B;&#x578B;&#x4FE1;&#x606F;

    /// &#x53EA;&#x6709;&#x5F53;&#x7F16;&#x8BD1;&#x7740;&#x8272;&#x5668;&#x5B58;&#x5728;&#x4E8E;&#x4E8C;&#x8FDB;&#x5236;&#x5B58;&#x6863;&#x4E2D;&#x65F6;&#xFF0C;Metal &#x624D;&#x5E94;&#x8BE5;&#x521B;&#x5EFA; pipeline
    MTLPipelineOptionFailOnBinaryArchiveMiss = 1 &lt;&lt; 2,
};
</code></pre><h1 id="&#x521B;&#x5EFA;&#x7EB9;&#x7406;"><a name="&#x521B;&#x5EFA;&#x7EB9;&#x7406;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x7EB9;&#x7406;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521B;&#x5EFA;&#x7EB9;&#x7406;</h1>
<pre><code>/// &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7EB9;&#x7406;, &#x4F7F;&#x7528;&#x79C1;&#x6709;&#x5B58;&#x50A8;&#x5B58;&#x50A8;&#x7EB9;&#x7406;&#x6570;&#x636E;, &#x5DF2;&#x7ECF;&#x4E3A;&#x7EB9;&#x7406;&#x56FE;&#x50CF;&#x6570;&#x636E;&#x5206;&#x914D;&#x4E86;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;
- (nullable id &lt;MTLTexture&gt;)newTextureWithDescriptor:(MTLTextureDescriptor *)descriptor;

/** &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7EB9;&#x7406;, &#x4F7F;&#x7528; IOSurface &#x5B58;&#x50A8;&#x7EB9;&#x7406;&#x6570;&#x636E;
 * @param iosurface &#x7528;&#x4E8E;&#x7EB9;&#x7406;&#x5B58;&#x50A8;&#x7684; IOSurface &#x5F15;&#x7528;
 * @param plane &#x5728; IOSurface&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x5E73;&#x9762;
 */
- (nullable id &lt;MTLTexture&gt;)newTextureWithDescriptor:(MTLTextureDescriptor *)descriptor iosurface:(IOSurfaceRef)iosurface plane:(NSUInteger)plane;


/** &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x53EF;&#x4EE5;&#x8DE8;&#x8FDB;&#x7A0B;&#x5171;&#x4EAB;&#x7684;&#x7EB9;&#x7406;
 * @discussion &#x53EF;&#x5171;&#x4EAB;&#x7EB9;&#x7406;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x79C1;&#x6709;&#x5B58;&#x50A8;&#x6A21;&#x5F0F; MTLResourceStorageModePrivate &#x521B;&#x5EFA;
 *      &#x901A;&#x8FC7;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7EB9;&#x7406;&#x53E5;&#x67C4; MTLSharedTextureHandle &#x5E76;&#x5C06;&#x5176;&#x4F20;&#x9012;&#x7ED9;&#x5176;&#x4ED6;&#x8FDB;&#x7A0B;&#xFF0C;&#x5B9E;&#x73B0;&#x8FDB;&#x7A0B;&#x5171;&#x4EAB;&#xFF1B;
 *      &#x4F46;&#x4E0D;&#x80FD;&#x5728;&#x4E0D;&#x540C;&#x7684; GPU &#x4E4B;&#x95F4;&#x5171;&#x4EAB;
 */
- (nullable id &lt;MTLTexture&gt;)newSharedTextureWithDescriptor:(MTLTextureDescriptor *)descriptor;

/** &#x4ECE;&#x63A5;&#x6536;&#x5230;&#x7684;&#x7EB9;&#x7406;&#x53E5;&#x67C4; sharedHandle &#x91CD;&#x65B0;&#x521B;&#x5EFA;&#x5171;&#x4EAB;&#x7684;&#x7EB9;&#x7406;
 * @param sharedHandle &#x8FDB;&#x7A0B;&#x7A7A;&#x95F4;&#x5171;&#x4EAB;&#x7EB9;&#x7406;&#x7684;&#x53E5;&#x67C4; (&#x4F46;&#x4ECD;&#x7136;&#x5728;&#x76F8;&#x540C;&#x7684; GPU &#x8303;&#x56F4;&#x5185;)
 * @note &#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x5E94;&#x8BE5;&#x5728;&#x5171;&#x4EAB;&#x7EB9;&#x7406;&#x6700;&#x521D;&#x521B;&#x5EFA;&#x7684; MTLDevice &#x4E0A;&#x8C03;&#x7528;&#x3002;
 *       &#x8981;&#x786E;&#x5B9A;&#x5B83;&#x662F;&#x54EA;&#x4E2A;&#x8BBE;&#x5907;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; MTLSharedTextureHandle &#x5BF9;&#x8C61;&#x7684;&#x8BBE;&#x5907;&#x5C5E;&#x6027;
 */
- (nullable id &lt;MTLTexture&gt;)newSharedTextureWithHandle:(MTLSharedTextureHandle *)sharedHandle;
</code></pre><h1 id="&#x521B;&#x5EFA;&#x547D;&#x4EE4;&#x961F;&#x5217;"><a name="&#x521B;&#x5EFA;&#x547D;&#x4EE4;&#x961F;&#x5217;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x547D;&#x4EE4;&#x961F;&#x5217;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521B;&#x5EFA;&#x547D;&#x4EE4;&#x961F;&#x5217;</h1>
<pre><code>/// &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x547D;&#x4EE4;&#x961F;&#x5217; : &#x6B64;&#x65B9;&#x6CD5;&#x521B;&#x5EFA;&#x7684;&#x547D;&#x4EE4;&#x961F;&#x5217;&#x6700;&#x591A;&#x53EA;&#x5141;&#x8BB8; 64 &#x4E2A;&#x672A;&#x5B8C;&#x6210;&#x7684;&#x547D;&#x4EE4;&#x7F13;&#x51B2;&#x533A;
- (nullable id &lt;MTLCommandQueue&gt;)newCommandQueue;

/// &#x8BBE;&#x7F6E;&#x547D;&#x4EE4;&#x961F;&#x5217;&#x7684;&#x6700;&#x5927;&#x7F13;&#x51B2;&#x533A;&#x6570;&#x91CF;
- (nullable id &lt;MTLCommandQueue&gt;)newCommandQueueWithMaxCommandBufferCount:(NSUInteger)maxCommandBufferCount;
</code></pre><h1 id="&#x521B;&#x5EFA;&#x8BA1;&#x7B97;&#x7BA1;&#x9053;"><a name="&#x521B;&#x5EFA;&#x8BA1;&#x7B97;&#x7BA1;&#x9053;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x8BA1;&#x7B97;&#x7BA1;&#x9053;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521B;&#x5EFA;&#x8BA1;&#x7B97;&#x7BA1;&#x9053;</h1>
<pre><code>/// @param MTLComputePipelineDescriptor &#x521B;&#x5EFA;&#x8BA1;&#x7B97;&#x7BA1;&#x9053;&#x7684;&#x63CF;&#x8FF0;&#x7B26;
/// @param reflection &#x6307;&#x5B9A;&#x53CD;&#x5C04;&#x4FE1;&#x606F;&#x7684;&#x7C7B;&#x578B;
/// @param completionHandler &#x5B8C;&#x6210;&#x8BA1;&#x7B97;&#x7BA1;&#x9053;&#x7684;&#x521B;&#x5EFA;&#x65F6;&#xFF0C;&#x8C03;&#x7528;&#x7684;&#x4EE3;&#x7801;&#x5757;
/// @param MTLFunction &#x8981;&#x7F16;&#x8BD1;&#x5230;&#x8BA1;&#x7B97;&#x7BA1;&#x9053;&#x7684;&#x51FD;&#x6570;&#x5BF9;&#x8C61;

/// &#x540C;&#x6B65;&#x521B;&#x5EFA;&#x5E76;&#x7F16;&#x8BD1;&#x8BA1;&#x7B97;&#x7BA1;&#x9053;
- (nullable id &lt;MTLComputePipelineState&gt;)newComputePipelineStateWithFunction:(id &lt;MTLFunction&gt;)computeFunction error:(__autoreleasing NSError **)error;
- (nullable id &lt;MTLComputePipelineState&gt;)newComputePipelineStateWithFunction:(id &lt;MTLFunction&gt;)computeFunction options:(MTLPipelineOption)options reflection:(MTLAutoreleasedComputePipelineReflection * __nullable)reflection error:(__autoreleasing NSError **)error;
- (nullable id &lt;MTLComputePipelineState&gt;)newComputePipelineStateWithDescriptor:(MTLComputePipelineDescriptor *)descriptor options:(MTLPipelineOption)options reflection:(MTLAutoreleasedComputePipelineReflection * __nullable)reflection error:(__autoreleasing NSError **)error;

/// &#x5F02;&#x6B65;&#x521B;&#x5EFA;&#x5E76;&#x7F16;&#x8BD1;&#x8BA1;&#x7B97;&#x7BA1;&#x9053;
- (void)newComputePipelineStateWithFunction:(id &lt;MTLFunction&gt;)computeFunction completionHandler:(MTLNewComputePipelineStateCompletionHandler)completionHandler;
- (void)newComputePipelineStateWithFunction:(id &lt;MTLFunction&gt;)computeFunction options:(MTLPipelineOption)options completionHandler:(MTLNewComputePipelineStateWithReflectionCompletionHandler)completionHandler;
- (void)newComputePipelineStateWithDescriptor:(MTLComputePipelineDescriptor *)descriptor options:(MTLPipelineOption)options completionHandler:(MTLNewComputePipelineStateWithReflectionCompletionHandler)completionHandler;

typedef void (^MTLNewComputePipelineStateCompletionHandler)(id &lt;MTLComputePipelineState&gt; __nullable computePipelineState, NSError * __nullable error);
typedef void (^MTLNewComputePipelineStateWithReflectionCompletionHandler)(id &lt;MTLComputePipelineState&gt; __nullable computePipelineState, MTLComputePipelineReflection * __nullable reflection, NSError * __nullable error);
</code></pre><h1 id="&#x67E5;&#x627E;&#x8FDE;&#x63A5;&#x7684;-gpu-&#x7EC4;"><a name="&#x67E5;&#x627E;&#x8FDE;&#x63A5;&#x7684;-gpu-&#x7EC4;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x627E;&#x8FDE;&#x63A5;&#x7684;-gpu-&#x7EC4;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x627E;&#x8FDE;&#x63A5;&#x7684; GPU &#x7EC4;</h1>
<pre><code>/** &#x540C;&#x4E00;&#x5BF9;&#x7B49;&#x4F53;&#x7EC4;&#x7684;64&#x4F4D;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x7B26;
 * &#x5982;&#x679C;&#x8BE5;&#x503C;&#x4E3A;0&#xFF0C;&#x8868;&#x793A;&#x8BE5;GPU&#x4E0D;&#x5C5E;&#x4E8E;&#x5BF9;&#x7B49;&#x4F53;&#x7EC4;&#xFF1B;&#x5426;&#x5219;&#x5C5E;&#x4E8E;&#x5BF9;&#x7B49;&#x4F53;&#x7EC4;
 * @discussion  &#x4E00;&#x4E9B; Mac &#x6709;&#x591A;&#x4E2A;GPU&#x76F4;&#x63A5;&#x8FDE;&#x63A5;&#xFF0C;&#x5141;&#x8BB8;&#x6570;&#x636E;&#x4ECE;&#x4E00;&#x4E2A;GPU&#x4F20;&#x8F93;&#x5230;&#x53E6;&#x4E00;&#x4E2A;GPU&#xFF0C;&#x800C;&#x4E0D;&#x9700;&#x8981;&#x5148;&#x8FDB;&#x5165;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x3002;
 *              &#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x8FDE;&#x63A5;GPU&#x65F6;&#xFF0C;&#x5B83;&#x4EEC;&#x5C5E;&#x4E8E;&#x540C;&#x4E00;&#x5BF9;&#x7B49;&#x4F53;&#x7EC4;&#x3002; 
 */
@property (readonly) uint64_t peerGroupID;

/// &#x5BF9;&#x7B49;&#x4F53;&#x7EC4;&#x4E2D;&#x7684;&#x8BBE;&#x5907;&#x603B;&#x6570;
@property (readonly) uint32_t peerCount;

/// &#x6240;&#x6709;&#x5C5E;&#x4E8E;&#x540C;&#x4E00;&#x5BF9;&#x7B49;&#x4F53;&#x7EC4;&#x7684;&#x91D1;&#x5C5E;&#x8BBE;&#x5907;&#x5728;&#x7EC4;&#x5185;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x4ECE; 0 &#x5230; peerCount - 1 &#x7684;&#x552F;&#x4E00;&#x7D22;&#x5F15;&#x503C;
@property (readonly) uint32_t peerIndex;
</code></pre><h2 id="&#x5728;&#x8FDE;&#x63A5;&#x7684;-gpu-&#x7EC4;&#x4E4B;&#x95F4;&#x4F20;&#x8F93;&#x6570;&#x636E;"><a name="&#x5728;&#x8FDE;&#x63A5;&#x7684;-gpu-&#x7EC4;&#x4E4B;&#x95F4;&#x4F20;&#x8F93;&#x6570;&#x636E;" class="anchor-navigation-ex-anchor" href="#&#x5728;&#x8FDE;&#x63A5;&#x7684;-gpu-&#x7EC4;&#x4E4B;&#x95F4;&#x4F20;&#x8F93;&#x6570;&#x636E;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5728;&#x8FDE;&#x63A5;&#x7684; GPU &#x7EC4;&#x4E4B;&#x95F4;&#x4F20;&#x8F93;&#x6570;&#x636E;</h2>
<p>&#x5728;&#x8FDE;&#x63A5;&#x7684; GPU &#x7EC4;&#x4E4B;&#x95F4;&#x4F7F;&#x7528;&#x9AD8;&#x901F;&#x8FDE;&#x63A5;&#xFF0C;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x4F20;&#x8F93;&#x6570;&#x636E;&#x3002;</p>
<p>&#x4ECE; macOS 10.15 &#x5F00;&#x59CB;&#xFF0C;&#x4E00;&#x4E9B;Mac&#x7CFB;&#x7EDF;&#x76F4;&#x63A5;&#x5C06;&#x56FE;&#x5F62;&#x5904;&#x7406;&#x5668; GPU &#x76F8;&#x4E92;&#x8FDE;&#x63A5;&#xFF0C;&#x5141;&#x8BB8;&#x60A8;&#x5728;&#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x5FEB;&#x901F;&#x4F20;&#x8F93;&#x6570;&#x636E;&#x3002;
&#x8FD9;&#x4E9B;&#x8FDE;&#x63A5;&#x4E0D;&#x4EC5;&#x901F;&#x5EA6;&#x66F4;&#x5FEB;&#xFF0C;&#x800C;&#x4E14;&#x8FD8;&#x907F;&#x514D;&#x4E86;&#x4F7F;&#x7528;CPU&#x548C;GPU&#x4E4B;&#x95F4;&#x7684;&#x5185;&#x5B58;&#x603B;&#x7EBF;&#xFF0C;&#x8BA9;&#x5B83;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x5176;&#x4ED6;&#x4EFB;&#x52A1;&#x3002;
&#x5982;&#x679C;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4F7F;&#x7528;&#x591A;&#x4E2A;GPU&#xFF0C;&#x6D4B;&#x8BD5;&#x5B83;&#x4EEC;&#x662F;&#x5426;&#x8FDE;&#x63A5;&#xFF0C;&#x5F53;&#x5B83;&#x4EEC;&#x8FDE;&#x63A5;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;&#x8FD9;&#x91CC;&#x63CF;&#x8FF0;&#x7684;&#x4F20;&#x8F93;&#x673A;&#x5236;&#x3002;</p>
<p>&#x5F53;GPU&#x76F8;&#x4E92;&#x8FDE;&#x63A5;&#x65F6;&#xFF0C;&#x5B83;&#x4EEC;&#x88AB;&#x79F0;&#x4E3A;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x5BF9;&#x7B49;&#x7EC4;&#x4E2D;&#x3002;&#x901A;&#x8FC7;&#x8BFB;&#x53D6;&#x8BBE;&#x5907;&#x5BF9;&#x8C61;&#x7684; <code>peerGroupID</code> &#x6765;&#x786E;&#x5B9A;GPU&#x662F;&#x5426;&#x5728;&#x5BF9;&#x7B49;&#x7EC4;&#x4E2D;&#x3002;&#x975E;&#x96F6;&#x503C;&#x8868;&#x793A;&#x8BE5;GPU&#x5728;&#x5BF9;&#x7B49;&#x4F53;&#x7EC4;&#x4E2D;&#x3002;</p>
<pre><code>bool isMemberOfAnyPeerGroup(id&lt;MTLDevice&gt; device) {
    return (device.peerGroupID != 0);
}
</code></pre><p>&#x540C;&#x4E00;&#x5BF9;&#x7B49;&#x4F53;&#x7EC4;&#x4E2D;&#x7684;GPU&#x5171;&#x4EAB;&#x76F8;&#x540C;&#x7684; <code>peerGroupID</code></p>
<pre><code>bool areMembersOfSamePeerGroup(id&lt;MTLDevice&gt; deviceA, id&lt;MTLDevice&gt; deviceB) {
    return (isMemberOfAnyPeerGroup(deviceA) &amp;&amp;
            deviceA.peerGroupID == deviceB.peerGroupID);
}
</code></pre><p>&#x901A;&#x8FC7;&#x5BF9;&#x8BE5;ID&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;&#xFF0C;&#x53EF;&#x4EE5;&#x83B7;&#x5F97;&#x4E0E;&#x5BF9;&#x7B49;&#x4F53;&#x7EC4;&#x76F8;&#x5173;&#x8054;&#x7684;&#x6240;&#x6709;&#x8BBE;&#x5907;&#x5217;&#x8868;&#x3002;</p>
<pre><code>NSArray&lt;id&lt;MTLDevice&gt;&gt;* devicesInPeerGroup(uint64_t peerGroupID) {
    if (peerGroupID == 0) {
        return @[];
    }
    return [MTLCopyAllDevices() filteredArrayUsingPredicate:[NSPredicate predicateWithFormat:@&quot;SELF.peerGroupID == %uul&quot;, peerGroupID]];
}
</code></pre><h4 id="&#x5C06;&#x8D44;&#x6E90;&#x62F7;&#x8D1D;&#x5230;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x8D44;&#x6E90;&#x7684;gpu&#x4E0A;"><a name="&#x5C06;&#x8D44;&#x6E90;&#x62F7;&#x8D1D;&#x5230;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x8D44;&#x6E90;&#x7684;gpu&#x4E0A;" class="anchor-navigation-ex-anchor" href="#&#x5C06;&#x8D44;&#x6E90;&#x62F7;&#x8D1D;&#x5230;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x8D44;&#x6E90;&#x7684;gpu&#x4E0A;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5C06;&#x8D44;&#x6E90;&#x62F7;&#x8D1D;&#x5230;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x8D44;&#x6E90;&#x7684;GPU&#x4E0A;</h4>
<p>&#x5728;Metal&#x4E2D;&#xFF0C;&#x8D44;&#x6E90;&#x662F;&#x7531;&#x8BBE;&#x5907;&#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x603B;&#x662F;&#x4E0E;&#x521B;&#x5EFA;&#x5B83;&#x4EEC;&#x7684;&#x8BBE;&#x5907;&#x5BF9;&#x8C61;&#x76F8;&#x5173;&#x8054;&#x3002;
&#x5BF9;&#x7B49;&#x4F53;&#x7EC4;&#x4E0D;&#x4F1A;&#x6539;&#x53D8;&#x8FD9;&#x79CD;&#x8054;&#x7CFB;&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x8D44;&#x6E90;&#x4E0E;&#x4E00;&#x4E2A;&#x8BBE;&#x5907;&#x5BF9;&#x8C61;&#x76F8;&#x5173;&#x8054;&#xFF0C;&#x800C;&#x4F60;&#x60F3;&#x5728;&#x53E6;&#x4E00;&#x4E2A;&#x8BBE;&#x5907;&#x5BF9;&#x8C61;&#x4E0A;&#x8BBF;&#x95EE;&#x5B83;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x5C06;&#x6570;&#x636E;&#x590D;&#x5236;&#x5230;&#x4E0E;&#x7B2C;&#x4E8C;&#x4E2A;&#x8BBE;&#x5907;&#x5BF9;&#x8C61;&#x76F8;&#x5173;&#x8054;&#x7684;&#x8D44;&#x6E90;&#x4E2D;&#x3002;</p>
<p>&#x8981;&#x5728;&#x4E00;&#x4E2A;&#x5BF9;&#x7B49;&#x7EC4;&#x7684;&#x6210;&#x5458;&#x4E4B;&#x95F4;&#x590D;&#x5236;&#x6570;&#x636E;&#xFF0C;&#x5728;&#x8FDE;&#x63A5;&#x5230;&#x4F60;&#x60F3;&#x8981;&#x590D;&#x5236;&#x7684;&#x8D44;&#x6E90;&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;GPU&#x4E0A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;<code>remote view</code>&#x3002;
<code>remote view</code> &#x662F;&#x4E00;&#x4E2A;&#x8D44;&#x6E90;&#x5BF9;&#x8C61;&#xFF0C;&#x5B83;&#x4E0D;&#x5305;&#x542B;&#x81EA;&#x5DF1;&#x7684;&#x5B58;&#x50A8;;&#x5B83;&#x5F15;&#x7528;&#x4E86;&#x539F;&#x59CB;GPU&#x4E0A;&#x7684;&#x5B58;&#x50A8;&#x3002;
&#x60A8;&#x53EA;&#x80FD;&#x4F7F;&#x7528;<code>remote view</code>&#x6765;&#x590D;&#x5236;&#x6570;&#x636E;;&#x5728;&#x5176;&#x4ED6;Metal&#x547D;&#x4EE4;&#x4E2D;&#x4F7F;&#x7528;&#x5B83;&#x4EEC;&#x4F1A;&#x5BFC;&#x81F4;&#x9519;&#x8BEF;&#x3002;</p>
<h4 id="&#x521B;&#x5EFA;&#x8D44;&#x6E90;&#x7684;-remotebufferview"><a name="&#x521B;&#x5EFA;&#x8D44;&#x6E90;&#x7684;-remotebufferview" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x8D44;&#x6E90;&#x7684;-remotebufferview"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521B;&#x5EFA;&#x8D44;&#x6E90;&#x7684; <code>RemoteBufferView</code></h4>
<p>&#x8981;&#x521B;&#x5EFA;&#x8D44;&#x6E90;&#x7684; <code>RemoteBufferView</code>&#xFF0C;&#x521B;&#x5EFA;&#x8D44;&#x6E90;&#x89C6;&#x56FE;&#x7684;&#x8BBE;&#x5907;&#x5BF9;&#x8C61;&#x5FC5;&#x987B;&#x4E0E;&#x521B;&#x5EFA;&#x8D44;&#x6E90;&#x7684;&#x8BBE;&#x5907;&#x5BF9;&#x8C61;&#x5171;&#x4EAB;&#x76F8;&#x540C;&#x7684;peerGroupID&#x3002;
&#x53E6;&#x5916;&#xFF0C;&#x8BE5;&#x8D44;&#x6E90;&#x5FC5;&#x987B;&#x4F7F;&#x7528; <code>MTLStorageModePrivate</code> &#x5B58;&#x50A8;&#x6A21;&#x5F0F;&#xFF0C;&#x6216;&#x8005;&#x9700;&#x8981; <code>IOSurface</code> &#x652F;&#x6301;&#x3002;</p>
<p>&#x8981;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7F13;&#x51B2;&#x533A;&#x89C6;&#x56FE;&#xFF0C;&#x8C03;&#x7528; <code>-newRemoteBufferViewForDevice:</code> &#x65B9;&#x6CD5; :</p>
<pre><code>id&lt;MTLBuffer&gt; remoteBufferView = [sourceBuffer newRemoteBufferViewForDevice:otherDevice];
</code></pre><p>&#x7C7B;&#x4F3C;&#x5730;&#xFF0C;&#x8981;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7EB9;&#x7406;&#x89C6;&#x56FE;&#xFF0C;&#x8C03;&#x7528; <code>-newRemoteTextureViewForDevice:</code> &#x65B9;&#x6CD5;</p>
<pre><code>id&lt;MTLTexture&gt; remoteTextureView = [sourceTexture newRemoteTextureViewForDevice:otherDevice];
</code></pre><h4 id="&#x5728;&#x5DF2;&#x8FDE;&#x63A5;&#x7684;-gpu-&#x4E4B;&#x95F4;&#x590D;&#x5236;&#x6570;&#x636E;"><a name="&#x5728;&#x5DF2;&#x8FDE;&#x63A5;&#x7684;-gpu-&#x4E4B;&#x95F4;&#x590D;&#x5236;&#x6570;&#x636E;" class="anchor-navigation-ex-anchor" href="#&#x5728;&#x5DF2;&#x8FDE;&#x63A5;&#x7684;-gpu-&#x4E4B;&#x95F4;&#x590D;&#x5236;&#x6570;&#x636E;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5728;&#x5DF2;&#x8FDE;&#x63A5;&#x7684; GPU &#x4E4B;&#x95F4;&#x590D;&#x5236;&#x6570;&#x636E;</h4>
<p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A; <code>MTLBlitCommandEncoder</code> &#x5E76;&#x7F16;&#x7801;&#x4E00;&#x4E2A;&#x590D;&#x5236;&#x547D;&#x4EE4;&#x3002;&#x8FD9;&#x4E2A;&#x590D;&#x5236;&#x547D;&#x4EE4;&#x7684;&#x6E90;&#x662F;&#x8FDC;&#x7A0B;&#x89C6;&#x56FE;&#x5BF9;&#x8C61;:</p>
<pre><code>id&lt;MTLBlitCommandEncoder&gt; blitEncoder = [commandBuffer blitCommandEncoder];
[blitEncoder copyFromBuffer:remoteBufferView sourceOffset:0
                   toBuffer:destinationBuffer destinationOffset:0
                       size:remoteBufferView.allocatedSize];
[blitEncoder copyFromTexture:remoteTextureView
                   toTexture:destinationTexture];
[blitEncoder endEncoding];
</code></pre><p>&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x6709;&#x4E09;&#x4E2A;&#x8D44;&#x6E90;&#x5BF9;&#x8C61;:&#x5305;&#x542B;&#x6570;&#x636E;&#x7684;&#x539F;&#x59CB;&#x8D44;&#x6E90;&#x3001;&#x5F15;&#x7528;&#x6570;&#x636E;&#x7684;&#x8FDC;&#x7A0B;&#x89C6;&#x56FE;&#x548C;&#x63A5;&#x6536;&#x6570;&#x636E;&#x7684;&#x8D44;&#x6E90;&#x3002;</p>
<p><img src="assets/Metal_remoteBufferView.png" alt="Metal_remoteBufferView"></p>
<h4 id="&#x540C;&#x6B65;&#x8D44;&#x6E90;&#x8BBF;&#x95EE;"><a name="&#x540C;&#x6B65;&#x8D44;&#x6E90;&#x8BBF;&#x95EE;" class="anchor-navigation-ex-anchor" href="#&#x540C;&#x6B65;&#x8D44;&#x6E90;&#x8BBF;&#x95EE;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x540C;&#x6B65;&#x8D44;&#x6E90;&#x8BBF;&#x95EE;</h4>
<p>&#x70B9;&#x5BF9;&#x70B9;&#x4F20;&#x8F93;&#x4E2D;&#x4F7F;&#x7528;&#x7684;Blit&#x547D;&#x4EE4;&#x9075;&#x5FAA;&#x6240;&#x6709;GPU&#x4E0A;&#x7684;&#x540C;&#x6B65;&#x89C4;&#x5219;&#x3002;&#x7136;&#x800C;&#xFF0C;&#x5B83;&#x4EEC;&#x4E0D;&#x4F1A;&#x81EA;&#x52A8;&#x4E0E;&#x6E90;GPU&#x4E0A;&#x8FD0;&#x884C;&#x7684;&#x4EFB;&#x4F55;&#x547D;&#x4EE4;&#x540C;&#x6B65;&#x3002;
&#x5982;&#x679C;&#x7F16;&#x7801;&#x4E86;&#x4FEE;&#x6539;&#x6E90;&#x8D44;&#x6E90;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x5728;&#x6267;&#x884C;blit&#x547D;&#x4EE4;&#x5C06;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x5230;&#x5176;&#x4ED6;GPU&#x4E4B;&#x524D;&#xFF0C;&#x8BF7;&#x786E;&#x4FDD;&#x8FD9;&#x4E9B;&#x547D;&#x4EE4;&#x5DF2;&#x7ECF;&#x5B8C;&#x6210;&#x3002;
&#x8FD9;&#x4E0E;&#x901A;&#x8FC7;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x5728;GPU&#x4E4B;&#x95F4;&#x4F20;&#x8F93;&#x8D44;&#x6E90;&#x65F6;&#x6240;&#x505A;&#x7684;&#x76F8;&#x540C;&#x3002;</p>
<p>&#x8981;&#x5728;&#x4E0D;&#x540C;&#x8BBE;&#x5907;&#x5BF9;&#x8C61;&#x4E4B;&#x95F4;&#x540C;&#x6B65;&#x547D;&#x4EE4;&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x5171;&#x4EAB;&#x4E8B;&#x4EF6;&#xFF01;</p>
<h1 id="&#x786E;&#x5B9A;&#x7EBF;&#x7A0B;&#x7EC4;&#x9650;&#x5236;"><a name="&#x786E;&#x5B9A;&#x7EBF;&#x7A0B;&#x7EC4;&#x9650;&#x5236;" class="anchor-navigation-ex-anchor" href="#&#x786E;&#x5B9A;&#x7EBF;&#x7A0B;&#x7EC4;&#x9650;&#x5236;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x786E;&#x5B9A;&#x7EBF;&#x7A0B;&#x7EC4;&#x9650;&#x5236;</h1>
<ul>
<li>&#x8C03;&#x7528;&#x8BA1;&#x7B97;&#x7BA1;&#x9053;&#x65F6; Metal &#x9009;&#x62E9;&#x5728; 1D&#x3001;2D &#x6216; 3D &#x7F51;&#x683C;&#x4E0A;&#x6267;&#x884C;&#x5185;&#x6838;&#x8BA1;&#x7B97;&#x51FD;&#x6570;&#xFF1B;<strong>&#x7F51;&#x683C;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x70B9;&#x4EE3;&#x8868;&#x5185;&#x6838;&#x51FD;&#x6570;&#x7684;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#xFF0C;&#x79F0;&#x4E3A;&#x7EBF;&#x7A0B;</strong>&#x3002;</li>
<li>&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x88AB;&#x7EC4;&#x7EC7;&#x6210; <strong>&#x7EBF;&#x7A0B;&#x7EC4;</strong> &#x4E00;&#x8D77;&#x6267;&#x884C;&#xFF0C;&#x7EBF;&#x7A0B;&#x7EC4;&#x4E4B;&#x95F4;&#x5171;&#x4EAB;&#x4E00;&#x5757;&#x5185;&#x5B58;&#x3002;</li>
<li>&#x4E00;&#x4E2A; GPU &#x652F;&#x6301;&#x7684;&#x7EBF;&#x7A0B;&#x7EC4;&#x5927;&#x5C0F;&#x4E0E;&#x7EBF;&#x7A0B;&#x6570;&#x662F;&#x6709;&#x9650;&#x5236;&#x7684;&#xFF01;</li>
</ul>
<pre><code>/// &#x53EF;&#x7528;&#x7684;&#x7EBF;&#x7A0B;&#x7EC4;&#x6700;&#x5927;&#x5185;&#x5B58;&#xFF0C;&#x4EE5;&#x5B57;&#x8282;&#x4E3A;&#x5355;&#x4F4D;
@property (readonly) NSUInteger maxThreadgroupMemoryLength;

/// &#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x7EC4;&#x4E2D;&#x7684;&#x6700;&#x5927;&#x7EBF;&#x7A0B;&#x6570;
@property (readonly) MTLSize maxThreadsPerThreadgroup;
</code></pre><h1 id="&#x521B;&#x5EFA;&#x6DF1;&#x5EA6;&#x6D4B;&#x8BD5;&#x6216;&#x6A21;&#x677F;&#x6D4B;&#x8BD5;"><a name="&#x521B;&#x5EFA;&#x6DF1;&#x5EA6;&#x6D4B;&#x8BD5;&#x6216;&#x6A21;&#x677F;&#x6D4B;&#x8BD5;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x6DF1;&#x5EA6;&#x6D4B;&#x8BD5;&#x6216;&#x6A21;&#x677F;&#x6D4B;&#x8BD5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521B;&#x5EFA;&#x6DF1;&#x5EA6;&#x6D4B;&#x8BD5;&#x6216;&#x6A21;&#x677F;&#x6D4B;&#x8BD5;</h1>
<p>&#x6E32;&#x67D3;&#x7BA1;&#x9053;&#x5904;&#x7406;&#x987A;&#x5E8F;&#xFF1A;<code>&#x9876;&#x70B9;&#x7740;&#x8272;&#x5668; &#x2014;&gt; &#x7247;&#x6BB5;&#x7740;&#x8272;&#x5668; &#x2014;&gt; &#x6A21;&#x677F;&#x6D4B;&#x8BD5; &#x2014;&gt; &#x6DF1;&#x5EA6;&#x6D4B;&#x8BD5;</code> &#xFF01;</p>
<pre><code>/// &#x521B;&#x5EFA;&#x5305;&#x542B;&#x6DF1;&#x5EA6;&#x6D4B;&#x8BD5;&#x548C;&#x6A21;&#x677F;&#x6D4B;&#x8BD5;&#x7684;&#x5BF9;&#x8C61;
- (nullable id &lt;MTLDepthStencilState&gt;)newDepthStencilStateWithDescriptor:(MTLDepthStencilDescriptor *)descriptor;
</code></pre><h1 id="&#x67E5;&#x8BE2;&#x8BA1;&#x6570;&#x5668;&#x91C7;&#x6837;&#x652F;&#x6301;"><a name="&#x67E5;&#x8BE2;&#x8BA1;&#x6570;&#x5668;&#x91C7;&#x6837;&#x652F;&#x6301;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x8BE2;&#x8BA1;&#x6570;&#x5668;&#x91C7;&#x6837;&#x652F;&#x6301;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x8BE2;&#x8BA1;&#x6570;&#x5668;&#x91C7;&#x6837;&#x652F;&#x6301;</h1>
<pre><code>/// &#x83B7;&#x53D6;&#x8BBE;&#x5907;&#x516C;&#x5F00;&#x7684;&#x8BA1;&#x6570;&#x5668;&#x96C6;
@property (readonly, nullable) NSArray&lt;id&lt;MTLCounterSet&gt;&gt;* counterSets;

/// &#x5224;&#x65AD;&#x8BBE;&#x5907;&#x662F;&#x5426;&#x652F;&#x6301;&#x6307;&#x5B9A;&#x7684;&#x8BA1;&#x6570;&#x5668;&#x91C7;&#x6837;
- (BOOL)supportsCounterSampling:(MTLCounterSamplingPoint)samplingPoint;

/// &#x8BBE;&#x5907;&#x652F;&#x6301;&#x7684;&#x91C7;&#x6837;&#x70B9;&#x7C7B;&#x578B;
typedef NS_ENUM(NSUInteger, MTLCounterSamplingPoint) {
    /// &#x652F;&#x6301;&#x5728;&#x6E32;&#x67D3;&#x3001;&#x8BA1;&#x7B97;&#x548C; blit &#x547D;&#x4EE4;&#x7F16;&#x7801;&#x5668;&#x9636;&#x6BB5;&#x8FB9;&#x754C;&#x7684;&#x8BA1;&#x6570;&#x5668;&#x91C7;&#x6837;&#x70B9;
    MTLCounterSamplingPointAtStageBoundary,

    /// &#x652F;&#x6301;&#x7ED8;&#x5236;&#x8FB9;&#x754C;&#x7684;&#x8BA1;&#x6570;&#x5668;&#x91C7;&#x6837;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; [MTLRenderCommandEncoder sampleCountersInBuffer] &#x8FDB;&#x884C;&#x91C7;&#x6837;&#x3002;
    MTLCounterSamplingPointAtDrawBoundary,

    /// &#x652F;&#x6301; compute dispatch boundary  &#x7684;&#x8BA1;&#x6570;&#x5668;&#x91C7;&#x6837;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;[MTLComputeCommandEncoder sampleCountersInBuffer]&#x8FDB;&#x884C;&#x91C7;&#x6837;
    MTLCounterSamplingPointAtDispatchBoundary,

    /// &#x652F;&#x6301; tile &#x7740;&#x8272;&#x5668;&#x5206;&#x6D3E;&#x8FB9;&#x754C;&#x7684;&#x8BA1;&#x6570;&#x5668;&#x91C7;&#x6837;
    MTLCounterSamplingPointAtTileDispatchBoundary,

    /// &#x652F;&#x6301; blit &#x8FB9;&#x754C;&#x7684;&#x8BA1;&#x6570;&#x5668;&#x91C7;&#x6837;&#xFF0C;&#x4F7F;&#x7528; [MTLBlitCommandEncoder sampleCountersInBuffer] &#x91C7;&#x6837;
    MTLCounterSamplingPointAtBlitBoundary
};
</code></pre><h1 id="&#x67E5;&#x8BE2;&#x7279;&#x5F81;&#x96C6;&#x548C;-gpu-&#x7CFB;&#x5217;"><a name="&#x67E5;&#x8BE2;&#x7279;&#x5F81;&#x96C6;&#x548C;-gpu-&#x7CFB;&#x5217;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x8BE2;&#x7279;&#x5F81;&#x96C6;&#x548C;-gpu-&#x7CFB;&#x5217;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x8BE2;&#x7279;&#x5F81;&#x96C6;&#x548C; GPU &#x7CFB;&#x5217;</h1>
<pre><code>/*!
 @method supportsFamily:
 @abstract Returns TRUE if the GPU Family is supported by this MTLDevice.
 */
- (BOOL)supportsFamily:(MTLGPUFamily)gpuFamily API_AVAILABLE(macos(10.15), ios(13.0));

/// &#x662F;&#x5426;&#x652F;&#x6301;&#x6307;&#x5B9A;&#x529F;&#x80FD;&#x96C6;
- (BOOL)supportsFeatureSet:(MTLFeatureSet)featureSet;

typedef NS_ENUM(NSInteger, MTLGPUFamily)
{
    MTLGPUFamilyApple1 = 1001,
    MTLGPUFamilyApple2 = 1002,
    MTLGPUFamilyApple3 = 1003,
    MTLGPUFamilyApple4 = 1004,
    MTLGPUFamilyApple5 = 1005,
    MTLGPUFamilyApple6 = 1006,
    MTLGPUFamilyApple7 = 1007,

    MTLGPUFamilyMac1 = 2001,
    MTLGPUFamilyMac2 = 2002,

    MTLGPUFamilyCommon1 = 3001,
    MTLGPUFamilyCommon2 = 3002,
    MTLGPUFamilyCommon3 = 3003,

    MTLGPUFamilyMacCatalyst1 = 4001,
    MTLGPUFamilyMacCatalyst2 = 4002,
} API_AVAILABLE(macos(10.15), ios(13.0));

typedef NS_ENUM(NSUInteger, MTLFeatureSet)
{
    MTLFeatureSet_iOS_GPUFamily1_v1 API_AVAILABLE(ios(8.0)) API_UNAVAILABLE(macos, macCatalyst, tvos) = 0,
    MTLFeatureSet_iOS_GPUFamily2_v1 API_AVAILABLE(ios(8.0)) API_UNAVAILABLE(macos, macCatalyst, tvos) = 1,

    MTLFeatureSet_iOS_GPUFamily1_v2 API_AVAILABLE(ios(9.0)) API_UNAVAILABLE(macos, macCatalyst, tvos) = 2,
    MTLFeatureSet_iOS_GPUFamily2_v2 API_AVAILABLE(ios(9.0)) API_UNAVAILABLE(macos, macCatalyst, tvos) = 3,
    MTLFeatureSet_iOS_GPUFamily3_v1 API_AVAILABLE(ios(9.0)) API_UNAVAILABLE(macos, macCatalyst, tvos) = 4,

    MTLFeatureSet_iOS_GPUFamily1_v3 API_AVAILABLE(ios(10.0)) API_UNAVAILABLE(macos, macCatalyst, tvos) = 5,
    MTLFeatureSet_iOS_GPUFamily2_v3 API_AVAILABLE(ios(10.0)) API_UNAVAILABLE(macos, macCatalyst, tvos) = 6,
    MTLFeatureSet_iOS_GPUFamily3_v2 API_AVAILABLE(ios(10.0)) API_UNAVAILABLE(macos, macCatalyst, tvos) = 7,

    MTLFeatureSet_iOS_GPUFamily1_v4 API_AVAILABLE(ios(11.0)) API_UNAVAILABLE(macos, macCatalyst, tvos) = 8,
    MTLFeatureSet_iOS_GPUFamily2_v4 API_AVAILABLE(ios(11.0)) API_UNAVAILABLE(macos, macCatalyst, tvos) = 9,
    MTLFeatureSet_iOS_GPUFamily3_v3 API_AVAILABLE(ios(11.0)) API_UNAVAILABLE(macos, macCatalyst, tvos) = 10,
    MTLFeatureSet_iOS_GPUFamily4_v1 API_AVAILABLE(ios(11.0)) API_UNAVAILABLE(macos, macCatalyst, tvos) = 11,

    MTLFeatureSet_iOS_GPUFamily1_v5 API_AVAILABLE(ios(12.0)) API_UNAVAILABLE(macos, macCatalyst, tvos) = 12,
    MTLFeatureSet_iOS_GPUFamily2_v5 API_AVAILABLE(ios(12.0)) API_UNAVAILABLE(macos, macCatalyst, tvos) = 13,
    MTLFeatureSet_iOS_GPUFamily3_v4 API_AVAILABLE(ios(12.0)) API_UNAVAILABLE(macos, macCatalyst, tvos) = 14,
    MTLFeatureSet_iOS_GPUFamily4_v2 API_AVAILABLE(ios(12.0)) API_UNAVAILABLE(macos, macCatalyst, tvos) = 15,
    MTLFeatureSet_iOS_GPUFamily5_v1 API_AVAILABLE(ios(12.0)) API_UNAVAILABLE(macos, macCatalyst, tvos) = 16,

    MTLFeatureSet_macOS_GPUFamily1_v1 API_AVAILABLE(macos(10.11)) API_UNAVAILABLE(ios) API_UNAVAILABLE(macCatalyst) = 10000,
    MTLFeatureSet_OSX_GPUFamily1_v1 API_AVAILABLE(macos(10.11)) API_UNAVAILABLE(ios) = MTLFeatureSet_macOS_GPUFamily1_v1, // deprecated

    MTLFeatureSet_macOS_GPUFamily1_v2 API_AVAILABLE(macos(10.12)) API_UNAVAILABLE(ios) API_UNAVAILABLE(macCatalyst) = 10001,
    MTLFeatureSet_OSX_GPUFamily1_v2 API_AVAILABLE(macos(10.12)) API_UNAVAILABLE(ios) = MTLFeatureSet_macOS_GPUFamily1_v2, // deprecated
    MTLFeatureSet_macOS_ReadWriteTextureTier2 API_AVAILABLE(macos(10.12)) API_UNAVAILABLE(ios) = 10002,
    MTLFeatureSet_OSX_ReadWriteTextureTier2 API_AVAILABLE(macos(10.12)) API_UNAVAILABLE(ios) = MTLFeatureSet_macOS_ReadWriteTextureTier2, // deprecated

    MTLFeatureSet_macOS_GPUFamily1_v3 API_AVAILABLE(macos(10.13)) API_UNAVAILABLE(ios) API_UNAVAILABLE(macCatalyst) = 10003,

    MTLFeatureSet_macOS_GPUFamily1_v4 API_AVAILABLE(macos(10.14)) API_UNAVAILABLE(ios) API_UNAVAILABLE(macCatalyst) = 10004,
    MTLFeatureSet_macOS_GPUFamily2_v1 API_AVAILABLE(macos(10.14)) API_UNAVAILABLE(ios) API_UNAVAILABLE(macCatalyst) = 10005,


    MTLFeatureSet_tvOS_GPUFamily1_v1 API_AVAILABLE(tvos(9.0)) API_UNAVAILABLE(macos, ios) = 30000,
    MTLFeatureSet_TVOS_GPUFamily1_v1 API_AVAILABLE(tvos(9.0)) API_UNAVAILABLE(macos, ios) = MTLFeatureSet_tvOS_GPUFamily1_v1, // deprecated

    MTLFeatureSet_tvOS_GPUFamily1_v2 API_AVAILABLE(tvos(10.0)) API_UNAVAILABLE(macos, ios) = 30001,

    MTLFeatureSet_tvOS_GPUFamily1_v3 API_AVAILABLE(tvos(11.0)) API_UNAVAILABLE(macos, ios) = 30002,
    MTLFeatureSet_tvOS_GPUFamily2_v1 API_AVAILABLE(tvos(11.0)) API_UNAVAILABLE(macos, ios) = 30003,

    MTLFeatureSet_tvOS_GPUFamily1_v4 API_AVAILABLE(tvos(12.0)) API_UNAVAILABLE(macos, ios) = 30004,
    MTLFeatureSet_tvOS_GPUFamily2_v2 API_AVAILABLE(tvos(12.0)) API_UNAVAILABLE(macos, ios) = 30005,
} API_AVAILABLE(macos(10.11), ios(8.0), tvos(9.0));
</code></pre><h1 id="&#x67E5;&#x8BE2;&#x53C2;&#x6570;&#x7F13;&#x51B2;&#x533A;&#x652F;&#x6301;"><a name="&#x67E5;&#x8BE2;&#x53C2;&#x6570;&#x7F13;&#x51B2;&#x533A;&#x652F;&#x6301;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x8BE2;&#x53C2;&#x6570;&#x7F13;&#x51B2;&#x533A;&#x652F;&#x6301;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x8BE2;&#x53C2;&#x6570;&#x7F13;&#x51B2;&#x533A;&#x652F;&#x6301;</h1>
<pre><code>/*!
 @property argumentBuffersSupport
 @abstract Query support tier for Argument Buffers.
 @return MTLArgumentBuffersTier enum value.
 */
@property (readonly) MTLArgumentBuffersTier argumentBuffersSupport API_AVAILABLE(macos(10.13), ios(11.0));

/*!
 @property maxArgumentBufferSamplerCount
 @abstract The maximum number of unique argument buffer samplers per app.
 @discussion This limit is only applicable to samplers that have their supportArgumentBuffers property set to true. A MTLSamplerState object is considered unique if the configuration of its originating MTLSamplerDescriptor properties is unique. For example, two samplers with equal minFilter values but different magFilter values are considered unique.
 */
@property (readonly) NSUInteger maxArgumentBufferSamplerCount API_AVAILABLE(macos(10.14), ios(12.0));
</code></pre><h1 id="&#x67E5;&#x8BE2;&#x52A8;&#x6001;&#x5E93;&#x548C;&#x51FD;&#x6570;&#x652F;&#x6301;"><a name="&#x67E5;&#x8BE2;&#x52A8;&#x6001;&#x5E93;&#x548C;&#x51FD;&#x6570;&#x652F;&#x6301;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x8BE2;&#x52A8;&#x6001;&#x5E93;&#x548C;&#x51FD;&#x6570;&#x652F;&#x6301;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x8BE2;&#x52A8;&#x6001;&#x5E93;&#x548C;&#x51FD;&#x6570;&#x652F;&#x6301;</h1>
<pre><code>/*!
 @property supportsDynamicLibraries
 @abstract Query device support for compiling dynamic libraries.
 @return BOOL value. If YES, the device supports compiling dynamic libraries. If NO, the devices does not.
 */
@property(readonly) BOOL supportsDynamicLibraries API_AVAILABLE(macos(11.0), ios(14.0));

@property (readonly) BOOL supportsFunctionPointers API_AVAILABLE(macos(11.0), ios(14.0));

@property(readonly) BOOL supportsFunctionPointersFromRender;
</code></pre><h1 id="&#x67E5;&#x8BE2;&#x5149;&#x7EBF;&#x8FFD;&#x8E2A;&#x652F;&#x6301;"><a name="&#x67E5;&#x8BE2;&#x5149;&#x7EBF;&#x8FFD;&#x8E2A;&#x652F;&#x6301;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x8BE2;&#x5149;&#x7EBF;&#x8FFD;&#x8E2A;&#x652F;&#x6301;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x8BE2;&#x5149;&#x7EBF;&#x8FFD;&#x8E2A;&#x652F;&#x6301;</h1>
<pre><code>@property (readonly) BOOL supportsRaytracing;

@property(readonly) BOOL supportsRaytracingFromRender;
</code></pre><h1 id="&#x67E5;&#x8BE2;&#x6E32;&#x67D3;&#x7279;&#x6027;&#x652F;&#x6301;"><a name="&#x67E5;&#x8BE2;&#x6E32;&#x67D3;&#x7279;&#x6027;&#x652F;&#x6301;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x8BE2;&#x6E32;&#x67D3;&#x7279;&#x6027;&#x652F;&#x6301;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x8BE2;&#x6E32;&#x67D3;&#x7279;&#x6027;&#x652F;&#x6301;</h1>
<pre><code>/*!
 @property barycentricsSupported
 @abstract Query device for Barycentric coordinates support; deprecated, use supportsShaderBarycentricCoordinates
 @return BOOL value. If YES, the device barycentric coordinates
 */
@property(readonly, getter=areBarycentricCoordsSupported) BOOL barycentricCoordsSupported API_AVAILABLE(macos(10.15)) API_UNAVAILABLE(ios);

/*!
 @property programmableSaplePositionsSupported
 @abstract Query device for programmable sample position support.
 @return BOOL value. If YES, the device supports programmable sample positions. If NO, the device does not.
 */
@property (readonly, getter=areProgrammableSamplePositionsSupported) BOOL programmableSamplePositionsSupported API_AVAILABLE(macos(10.13), ios(11.0));


/*!
 @method getDefaultSamplePositions:count:
 @abstract Retrieve the default sample positions.
 @param positions The destination array for default sample position data.
 @param count Specifies the sample count for which to retrieve the default positions, the length of the positions array, and must be set to a valid sample count.
 */
- (void)getDefaultSamplePositions:(MTLSamplePosition *)positions count:(NSUInteger)count API_AVAILABLE(macos(10.13), ios(11.0));

/*!
 @property rasterOrderGroupsSupported
 @abstract Query device for raster order groups support.
 @return BOOL value. If YES, the device supports raster order groups. If NO, the device does not.
 */
@property (readonly, getter=areRasterOrderGroupsSupported) BOOL rasterOrderGroupsSupported API_AVAILABLE(macos(10.13), ios(11.0));

/*!
 @property supports32BitMSAA
 @abstract Query device for 32-bit MSAA texture support. Specifically, added support for allocating 32-bit Integer format textures (R32Uint, R32Sint, RG32Uint, RG32Sint, RGBA32Uint, and RGBA32Sint) and resolving 32-bit Float format textures (R32Float, RG32Float, and RGBA32Float).
 @return BOOL value. If YES, the device supports these additional 32-bit MSAA texture capabilities. If NO, the devices does not.
 */
@property(readonly) BOOL supports32BitMSAA API_AVAILABLE(macos(11.0), ios(14.0));


/*!
 @property supportsPullModelInterpolation
 @abstract Query device for pull model interpolation support which allows a fragment shader to compute multiple interpolations (at center, at centroid, at offset, at sample) of a fragment input.
 @return BOOL value. If YES, the device supports pull model interpolation. If NO, the device does not.
 */
@property(readonly) BOOL supportsPullModelInterpolation API_AVAILABLE(macos(11.0),ios(14.0));

/*!
 @property supportsShaderBarycentricCoordinates
 @abstract Query device for Barycentric Coordinates support.
 @return BOOL value. If YES, the device supports barycentric coordinates. If NO, the device does not.
 */
 @property (readonly) BOOL supportsShaderBarycentricCoordinates API_AVAILABLE(macos(10.15)) API_UNAVAILABLE(ios);

/*!
 @property supportsVertexAmplificationCount:
 @abstract Query device for vertex amplification support.
 @param count The amplification count to check
 @return BOOL value. If YES, the device supports vertex amplification with the given count. If NO, the device does not.
 */
- (BOOL)supportsVertexAmplificationCount:(NSUInteger)count API_AVAILABLE(macos(10.15.4), ios(13.0), macCatalyst(13.4));
</code></pre><h1 id="&#x67E5;&#x8BE2;&#x7EB9;&#x7406;&#x548C;&#x91C7;&#x6837;&#x5668;&#x652F;&#x6301;"><a name="&#x67E5;&#x8BE2;&#x7EB9;&#x7406;&#x548C;&#x91C7;&#x6837;&#x5668;&#x652F;&#x6301;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x8BE2;&#x7EB9;&#x7406;&#x548C;&#x91C7;&#x6837;&#x5668;&#x652F;&#x6301;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x8BE2;&#x7EB9;&#x7406;&#x548C;&#x91C7;&#x6837;&#x5668;&#x652F;&#x6301;</h1>
<pre><code>/*!
 @property depth24Stencil8PixelFormatSupported
 @abstract If YES, device supports MTLPixelFormatDepth24Unorm_Stencil8.
 */
@property (readonly, getter=isDepth24Stencil8PixelFormatSupported) BOOL depth24Stencil8PixelFormatSupported API_AVAILABLE(macos(10.11), macCatalyst(13.0)) API_UNAVAILABLE(ios);

/*!
 @property supports32BitFloatFiltering
 @abstract Query device for 32-bit Float texture filtering support. Specifically, R32Float, RG32Float, and RGBA32Float.
 @return BOOL value. If YES, the device supports filtering 32-bit Float textures. If NO, the device does not.
 */
@property(readonly) BOOL supports32BitFloatFiltering API_AVAILABLE(macos(11.0), ios(14.0));

/*!
 @property supportsBCTextureCompression
 @abstract Query device for BC Texture format support
 @return BOOL value. If YES, the device supports compressed BC Texture formats. If NO, the device does not.
 */
 @property (readonly) BOOL supportsBCTextureCompression API_AVAILABLE(macos(11.0), ios(14.0));

/*!
@property supportsQueryTextureLOD
@abstract Query device for whether it supports the `calculate_clampled_lod` and `calculate_unclamped_lod` Metal shading language functionality.
@return BOOL value. If YES, the device supports the calculate LOD functionality. If NO, the device does not.
*/
@property (readonly) BOOL supportsQueryTextureLOD API_AVAILABLE(macos(11.0), ios(14.0));

/*!
 @method supportsTextureSampleCount:
 @brief Query device if it support textures with a given sampleCount.
 @return BOOL value. If YES, device supports the given sampleCount for textures. If NO, device does not support the given sampleCount.
 */
- (BOOL)supportsTextureSampleCount:(NSUInteger)sampleCount API_AVAILABLE(macos(10.11), ios(9.0));

/*!
 @property readWriteTextureSupport
 @abstract Query support tier for read-write texture formats.
 @return MTLReadWriteTextureTier enum value.
 */
@property (readonly) MTLReadWriteTextureTier readWriteTextureSupport API_AVAILABLE(macos(10.13), ios(11.0));

/*!
 @method minimumLinearTextureAlignmentForPixelFormat:
 @abstract Returns the minimum alignment required for offset and rowBytes when creating a linear texture. An error is thrown for queries with invalid pixel formats (depth, stencil, or compressed formats).
 */
- (NSUInteger)minimumLinearTextureAlignmentForPixelFormat:(MTLPixelFormat)format API_AVAILABLE(macos(10.13), ios(11.0));

/*!
 @method minimumTextureBufferAlignmentForPixelFormat:
 @abstract Returns the minimum alignment required for offset and rowBytes when creating a texture buffer from a buffer.
 */
- (NSUInteger)minimumTextureBufferAlignmentForPixelFormat:(MTLPixelFormat)format API_AVAILABLE(macos(10.14), ios(12.0));
</code></pre><h1 id="&#x4E3A;&#x5149;&#x7EBF;&#x8FFD;&#x8E2A;&#x521B;&#x5EFA;&#x52A0;&#x901F;&#x7ED3;&#x6784;"><a name="&#x4E3A;&#x5149;&#x7EBF;&#x8FFD;&#x8E2A;&#x521B;&#x5EFA;&#x52A0;&#x901F;&#x7ED3;&#x6784;" class="anchor-navigation-ex-anchor" href="#&#x4E3A;&#x5149;&#x7EBF;&#x8FFD;&#x8E2A;&#x521B;&#x5EFA;&#x52A0;&#x901F;&#x7ED3;&#x6784;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4E3A;&#x5149;&#x7EBF;&#x8FFD;&#x8E2A;&#x521B;&#x5EFA;&#x52A0;&#x901F;&#x7ED3;&#x6784;</h1>
<pre><code>- (MTLAccelerationStructureSizes)accelerationStructureSizesWithDescriptor:(MTLAccelerationStructureDescriptor *)descriptor API_AVAILABLE(macos(11.0), ios(14.0));

- (nullable id &lt;MTLAccelerationStructure&gt;)newAccelerationStructureWithSize:(NSUInteger)size API_AVAILABLE(macos(11.0), ios(14.0));
- (nullable id &lt;MTLAccelerationStructure&gt;)newAccelerationStructureWithDescriptor:(MTLAccelerationStructureDescriptor *)descriptor API_AVAILABLE(macos(11.0), ios(14.0));


/**
 * @brief Describes the memory requirements for an acceleration structure
 */
typedef struct {
    /**
     * @brief The required size, in bytes, of the built acceleration structure
     */
    NSUInteger accelerationStructureSize;

    /**
     * @brief The required size, in bytes, of the scratch buffer used to build the acceleration structure
     */
    NSUInteger buildScratchBufferSize;

    /**
     * @brief The required size, in bytes, of the scratch buffer used to refit the acceleration structure
     */
    NSUInteger refitScratchBufferSize;
} MTLAccelerationStructureSizes;
</code></pre><h1 id="&#x521B;&#x5EFA;&#x53C2;&#x6570;&#x7F13;&#x51B2;&#x533A;&#x7F16;&#x7801;&#x5668;"><a name="&#x521B;&#x5EFA;&#x53C2;&#x6570;&#x7F13;&#x51B2;&#x533A;&#x7F16;&#x7801;&#x5668;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x53C2;&#x6570;&#x7F13;&#x51B2;&#x533A;&#x7F16;&#x7801;&#x5668;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521B;&#x5EFA;&#x53C2;&#x6570;&#x7F13;&#x51B2;&#x533A;&#x7F16;&#x7801;&#x5668;</h1>
<pre><code>/*!
 * @method newArgumentEncoderWithArguments:count:
 * @abstract Creates an argument encoder for an array of argument descriptors which will be encoded sequentially.
 */
- (nullable id &lt;MTLArgumentEncoder&gt;)newArgumentEncoderWithArguments:(NSArray &lt;MTLArgumentDescriptor *&gt; *)arguments;
</code></pre><h1 id="&#x521B;&#x5EFA;&#x4E8C;&#x8FDB;&#x5236;&#x7740;&#x8272;&#x5668;&#x6863;&#x6848;"><a name="&#x521B;&#x5EFA;&#x4E8C;&#x8FDB;&#x5236;&#x7740;&#x8272;&#x5668;&#x6863;&#x6848;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x4E8C;&#x8FDB;&#x5236;&#x7740;&#x8272;&#x5668;&#x6863;&#x6848;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521B;&#x5EFA;&#x4E8C;&#x8FDB;&#x5236;&#x7740;&#x8272;&#x5668;&#x6863;&#x6848;</h1>
<pre><code>/*!
 @method newBinaryArchiveWithDescriptor:error:
 @abstract Creates a MTLBinaryArchive using the configuration in the descriptor.
 @see MTLBinaryArchive
 @param descriptor The descriptor for the configuration of the binary archive to create.
 @param error If an error occurs during creation, this parameter is updated to describe the failure.
 @return On success, the created MTLBinaryArchive. On failure, nil.
 */
- (nullable id&lt;MTLBinaryArchive&gt;) newBinaryArchiveWithDescriptor:(MTLBinaryArchiveDescriptor*)descriptor
                                                           error:(NSError**)error API_AVAILABLE(macos(11.0), ios(14.0));
</code></pre><h1 id="&#x521B;&#x5EFA;&#x8BA1;&#x6570;&#x5668;&#x6837;&#x672C;&#x7F13;&#x51B2;&#x533A;"><a name="&#x521B;&#x5EFA;&#x8BA1;&#x6570;&#x5668;&#x6837;&#x672C;&#x7F13;&#x51B2;&#x533A;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x8BA1;&#x6570;&#x5668;&#x6837;&#x672C;&#x7F13;&#x51B2;&#x533A;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521B;&#x5EFA;&#x8BA1;&#x6570;&#x5668;&#x6837;&#x672C;&#x7F13;&#x51B2;&#x533A;</h1>
<pre><code>/*!
 @method newCounterSampleBufferWithDescriptor:error:
 @abstract Given a counter sample buffer descriptor, allocate a new counter
 sample buffer.
 This may return nil if the counters may not all be collected simultaneously.
 @param descriptor The descriptor to create a sample buffer for
 @param error An error return on failure.
 */
- (nullable id&lt;MTLCounterSampleBuffer&gt;) newCounterSampleBufferWithDescriptor:(MTLCounterSampleBufferDescriptor*)descriptor
                                                              error:(NSError**)error
    API_AVAILABLE(macos(10.15), ios(14.0));
</code></pre><h1 id="&#x521B;&#x5EFA;&#x52A8;&#x6001;&#x7740;&#x8272;&#x5668;&#x5E93;"><a name="&#x521B;&#x5EFA;&#x52A8;&#x6001;&#x7740;&#x8272;&#x5668;&#x5E93;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x52A8;&#x6001;&#x7740;&#x8272;&#x5668;&#x5E93;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521B;&#x5EFA;&#x52A8;&#x6001;&#x7740;&#x8272;&#x5668;&#x5E93;</h1>
<pre><code>/*!
 @method newDynamicLibrary:error:
 @abstract Creates a MTLDynamicLibrary by compiling the code in a MTLLibrary.
 @see MTLDynamicLibrary
 @param library The MTLLibrary from which to compile code. This library must have .type set to MTLLibraryTypeDynamic.
 @param error If an error occurs during creation, this parameter is updated to describe the failure.
 @return On success, the MTLDynamicLibrary containing compiled code. On failure, nil.
 */
- (nullable id&lt;MTLDynamicLibrary&gt;) newDynamicLibrary:(id&lt;MTLLibrary&gt;)library error:(NSError **) error API_AVAILABLE(macos(11.0), ios(14.0));

/*!
 @method newDynamicLibraryWithURL:error:
 @abstract Creates a MTLDynamicLibrary by loading compiled code from a file.
 @see MTLDynamicLibrary
 @param url The file URL from which to load. If the file contains no compiled code for this device, compilation is attempted as with newDynamicLibrary:error:
 @param error If an error occurs during creation, this parameter is updated to describe the failure.
 @return On success, the MTLDynamicLibrary containing compiled code (either loaded or compiled). On failure, nil.
 */
- (nullable id&lt;MTLDynamicLibrary&gt;) newDynamicLibraryWithURL:(NSURL *)url error:(NSError **) error API_AVAILABLE(macos(11.0), ios(14.0));
</code></pre><h1 id="&#x521B;&#x5EFA;&#x4E8B;&#x4EF6;"><a name="&#x521B;&#x5EFA;&#x4E8B;&#x4EF6;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x4E8B;&#x4EF6;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521B;&#x5EFA;&#x4E8B;&#x4EF6;</h1>
<pre><code>/*!
 @method newEvent
 @abstract Returns a new single-device non-shareable Metal event object
*/
- (nullable id &lt;MTLEvent&gt;)newEvent API_AVAILABLE(macos(10.14), ios(12.0));

/*!
 @method newSharedEvent
 @abstract Returns a shareable multi-device event.
 */
- (nullable id &lt;MTLSharedEvent&gt;)newSharedEvent API_AVAILABLE(macos(10.14), ios(12.0));

/*!
 @method newSharedEventWithHandle
 @abstract Creates a shareable multi-device event from an existing shared event handle.
*/
- (nullable id &lt;MTLSharedEvent&gt;)newSharedEventWithHandle:(MTLSharedEventHandle *)sharedEventHandle API_AVAILABLE(macos(10.14), ios(12.0));
</code></pre><h1 id="&#x521B;&#x5EFA;&#x6805;&#x680F;"><a name="&#x521B;&#x5EFA;&#x6805;&#x680F;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x6805;&#x680F;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521B;&#x5EFA;&#x6805;&#x680F;</h1>
<p><code>MTLFence</code> &#x5BF9;&#x8C61;&#x7528;&#x4E8E;&#x8DE8;&#x547D;&#x4EE4;&#x7F16;&#x7801;&#x5668;&#x8DDF;&#x8E2A;&#x548C;&#x7BA1;&#x7406;&#x5B50;&#x5206;&#x914D;&#x7684;&#x8D44;&#x6E90;&#x4F9D;&#x8D56;&#x6027;&#x3002;&#x8D44;&#x6E90;&#x4F9D;&#x8D56;&#x6027;&#x968F;&#x7740;&#x8D44;&#x6E90;&#x7531;&#x4E0D;&#x540C;&#x547D;&#x4EE4;&#x751F;&#x6210;&#x548C;&#x4F7F;&#x7528;&#x800C;&#x51FA;&#x73B0;&#xFF0C;&#x65E0;&#x8BBA;&#x8FD9;&#x4E9B;&#x547D;&#x4EE4;&#x662F;&#x7F16;&#x7801;&#x5230;&#x540C;&#x4E00;&#x961F;&#x5217;&#x8FD8;&#x662F;&#x4E0D;&#x540C;&#x961F;&#x5217;&#x3002;
<code>MTLFence</code> &#x6355;&#x83B7;GPU&#x5DE5;&#x4F5C;&#x5230;&#x7279;&#x5B9A;&#x65F6;&#x95F4;&#x70B9;&#xFF1B;&#x5F53;GPU&#x9047;&#x5230;<code>MTLFence</code>&#x65F6;&#xFF0C;&#x5B83;&#x5FC5;&#x987B;&#x7B49;&#x5230;&#x6240;&#x6709;&#x6355;&#x83B7;&#x7684;&#x5DE5;&#x4F5C;&#x5B8C;&#x6210;&#x540E;&#x518D;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x3002;</p>
<pre><code>/// &#x521B;&#x5EFA;&#x6805;&#x680F;: &#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x8DDF;&#x8E2A;&#x76EE;&#x7684;&#xFF0C;&#x4EC5;&#x652F;&#x6301;GPU&#x5185;&#x90E8;&#x8DDF;&#x8E2A;&#xFF0C;&#x800C;&#x4E0D;&#x652F;&#x6301;CPU&#x548C;GPU&#x4E4B;&#x95F4;&#x7684;&#x8DDF;&#x8E2A;
/// MTLFence &#x53EF;&#x4EE5;&#x91CD;&#x590D;&#x66F4;&#x65B0;&#xFF0C;&#x786C;&#x4EF6;&#x7BA1;&#x7406; MTLFence &#x66F4;&#x65B0;&#x4EE5;&#x9632;&#x6B62;&#x6B7B;&#x9501;
- (nullable id &lt;MTLFence&gt;)newFence;
</code></pre><h1 id="&#x521B;&#x5EFA;&#x95F4;&#x63A5;&#x547D;&#x4EE4;&#x7F13;&#x51B2;&#x533A;"><a name="&#x521B;&#x5EFA;&#x95F4;&#x63A5;&#x547D;&#x4EE4;&#x7F13;&#x51B2;&#x533A;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x95F4;&#x63A5;&#x547D;&#x4EE4;&#x7F13;&#x51B2;&#x533A;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521B;&#x5EFA;&#x95F4;&#x63A5;&#x547D;&#x4EE4;&#x7F13;&#x51B2;&#x533A;</h1>
<pre><code>/*!
 * @method newIndirectCommandBufferWithDescriptor:maxCommandCount:options
 * @abstract Creates a new indirect command buffer with the given descriptor and count.
 * @param descriptor The descriptor encodes the maximum logical stride of each command.
 * @param maxCount The maximum number of commands that this buffer can contain.
 * @param options The options for the indirect command buffer.
 * @discussion The returned buffer can be safely executed without first encoding into (but is wasteful).
 */
- (nullable id &lt;MTLIndirectCommandBuffer&gt;)newIndirectCommandBufferWithDescriptor:(MTLIndirectCommandBufferDescriptor*)descriptor maxCommandCount:(NSUInteger)maxCount options:(MTLResourceOptions)options;
</code></pre><h1 id="&#x521B;&#x5EFA;&#x5149;&#x6805;&#x5316;&#x7387;&#x56FE;"><a name="&#x521B;&#x5EFA;&#x5149;&#x6805;&#x5316;&#x7387;&#x56FE;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x5149;&#x6805;&#x5316;&#x7387;&#x56FE;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521B;&#x5EFA;&#x5149;&#x6805;&#x5316;&#x7387;&#x56FE;</h1>
<pre><code>/*!
 @method supportsRasterizationRateMapWithLayerCount:
 @abstract Query device for variable rasterization rate support with the given number of layers.
 @param layerCount The number of layers for which to query device support.
 @return YES if the device supports creation of rendering using a MTLRasterizationRateMap with the given number of layers.
 */
-(BOOL)supportsRasterizationRateMapWithLayerCount:(NSUInteger)layerCount API_AVAILABLE(macos(10.15.4), ios(13.0), macCatalyst(13.4));

/*!
 @method newRasterizationRateMapWithDescriptor:
 @abstract Creates a new variable rasterization rate map with the given descriptor.
 @discussion If &apos;[self supportsRasterizationRateMapWithLayerCount:descriptor.layerCount]&apos; returns NO, or descriptor.screenSize describes an empty region, the result will always be nil.
 @return A MTLRasterizationRateMap instance that can be used for rendering on this MTLDevice, or nil if the device does not support the combination of parameters stored in the descriptor.
 */
-(nullable id&lt;MTLRasterizationRateMap&gt;)newRasterizationRateMapWithDescriptor:(MTLRasterizationRateMapDescriptor*)descriptor API_AVAILABLE(macos(10.15.4), ios(13.0), macCatalyst(13.4));
</code></pre><h1 id="&#x521B;&#x5EFA;&#x8D44;&#x6E90;&#x5806;"><a name="&#x521B;&#x5EFA;&#x8D44;&#x6E90;&#x5806;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x8D44;&#x6E90;&#x5806;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521B;&#x5EFA;&#x8D44;&#x6E90;&#x5806;</h1>
<pre><code>/*!
 @method heapTextureSizeAndAlignWithDescriptor:
 @abstract Determine the byte size of textures when sub-allocated from a heap.
 @discussion This method can be used to help determine the required heap size.
 */
- (MTLSizeAndAlign)heapTextureSizeAndAlignWithDescriptor:(MTLTextureDescriptor *)desc API_AVAILABLE(macos(10.13), ios(10.0));

/*!
 @method heapBufferSizeAndAlignWithLength:options:
 @abstract Determine the byte size of buffers when sub-allocated from a heap.
 @discussion This method can be used to help determine the required heap size.
 */
- (MTLSizeAndAlign)heapBufferSizeAndAlignWithLength:(NSUInteger)length options:(MTLResourceOptions)options API_AVAILABLE(macos(10.13), ios(10.0));

/*!
 @method newHeapWithDescriptor:
 @abstract Create a new heap with the given descriptor.
 */
- (nullable id &lt;MTLHeap&gt;)newHeapWithDescriptor:(MTLHeapDescriptor *)descriptor API_AVAILABLE(macos(10.13), ios(10.0));
</code></pre><h1 id="&#x521B;&#x5EFA;&#x91C7;&#x6837;&#x5668;"><a name="&#x521B;&#x5EFA;&#x91C7;&#x6837;&#x5668;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x91C7;&#x6837;&#x5668;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521B;&#x5EFA;&#x91C7;&#x6837;&#x5668;</h1>
<pre><code>/// &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x91C7;&#x6837;&#x5668;
- (nullable id &lt;MTLSamplerState&gt;)newSamplerStateWithDescriptor:(MTLSamplerDescriptor *)descriptor;
</code></pre><h1 id="&#x7BA1;&#x7406;-gpu-&#x5185;&#x5B58;"><a name="&#x7BA1;&#x7406;-gpu-&#x5185;&#x5B58;" class="anchor-navigation-ex-anchor" href="#&#x7BA1;&#x7406;-gpu-&#x5185;&#x5B58;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7BA1;&#x7406; GPU &#x5185;&#x5B58;</h1>
<pre><code>/// &#x5728;&#x6B64;&#x5F53;&#x524D; GPU &#x4E0A;&#x4E3A;&#x6B64;&#x8FDB;&#x7A0B;&#x5206;&#x914D;&#x7684;&#x6240;&#x6709;&#x8D44;&#x6E90;&#x7684;&#x5B57;&#x8282;&#x5927;&#x5C0F;
@property (readonly) NSUInteger currentAllocatedSize;
</code></pre><h1 id="&#x8BFB;&#x53D6;&#x65F6;&#x95F4;&#x6233;"><a name="&#x8BFB;&#x53D6;&#x65F6;&#x95F4;&#x6233;" class="anchor-navigation-ex-anchor" href="#&#x8BFB;&#x53D6;&#x65F6;&#x95F4;&#x6233;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8BFB;&#x53D6;&#x65F6;&#x95F4;&#x6233;</h1>
<pre><code>#if defined(MTL_TIMESTAMP_AS_NSUINTEGER) &amp;&amp; MTL_TIMESTAMP_AS_NSUINTEGER
typedef NSUInteger MTLTimestamp;
#else
typedef uint64_t MTLTimestamp;
#endif
/*!
 @method sampleTimestamps:gpuTimestamp:
 @abstract Sample the CPU and GPU timestamps as closely as possible.
 @param cpuTimestamp The timestamp on the CPU
 @param gpuTimestamp The timestamp on the GPU
 */
-(void)sampleTimestamps:(MTLTimestamp *)cpuTimestamp
           gpuTimestamp:(MTLTimestamp *)gpuTimestamp
    API_AVAILABLE(macos(10.15), ios(14.0));
</code></pre><h1 id="&#x4F7F;&#x7528;&#x7A00;&#x758F;&#x7EB9;&#x7406;&#x5E73;&#x94FA;"><a name="&#x4F7F;&#x7528;&#x7A00;&#x758F;&#x7EB9;&#x7406;&#x5E73;&#x94FA;" class="anchor-navigation-ex-anchor" href="#&#x4F7F;&#x7528;&#x7A00;&#x758F;&#x7EB9;&#x7406;&#x5E73;&#x94FA;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4F7F;&#x7528;&#x7A00;&#x758F;&#x7EB9;&#x7406;&#x5E73;&#x94FA;</h1>
<pre><code>
//Keep around to keep building

/*!
 * @method sparseTileSizeWithTextureType:pixelFormat:sampleCount:
 * @abstract Returns tile size for sparse texture with given type, pixel format and sample count.
 */
-(MTLSize) sparseTileSizeWithTextureType:(MTLTextureType)textureType
                             pixelFormat:(MTLPixelFormat)pixelFormat
                             sampleCount:(NSUInteger)sampleCount API_AVAILABLE(macos(11.0), macCatalyst(14.0), ios(13.0));

/*!
 @property sparseTileSizeInBytes
 @abstract Returns the number of bytes required to map one sparse texture tile.
 */
@property (readonly) NSUInteger sparseTileSizeInBytes API_AVAILABLE(macos(11.0), macCatalyst(14.0), ios(13.0));

@optional
/*!
 * @method convertSparsePixelRegions:toTileRegions:withTileSize:alignmentMode:numRegions:
 * @abstract Converts regions in pixels to regions in sparse tiles using specified alignment mode.
   Tile size can be obtained from tileSizeWithTextureType:pixelFormat:sampleCount: method.
 */
-(void) convertSparsePixelRegions:(const MTLRegion[_Nonnull])pixelRegions
                    toTileRegions:(MTLRegion[_Nonnull])tileRegions
                     withTileSize:(MTLSize)tileSize
                    alignmentMode:(MTLSparseTextureRegionAlignmentMode)mode
                       numRegions:(NSUInteger)numRegions API_AVAILABLE(macos(11.0), macCatalyst(14.0), ios(13.0));

/*!
 * @method convertSparseTileRegions:toPixelRegions:withTileSize:numRegions:
 * @abstract Convertes region in sparse tiles to region in pixels
   Tile size can be obtained from tileSizeWithTextureType:pixelFormat:sampleCount: method.
 */
-(void) convertSparseTileRegions:(const MTLRegion[_Nonnull])tileRegions
                  toPixelRegions:(MTLRegion[_Nonnull])pixelRegions
                    withTileSize:(MTLSize)tileSize
                      numRegions:(NSUInteger)numRegions API_AVAILABLE(macos(11.0), macCatalyst(14.0), ios(13.0));


/*!
 @enum MTLSparseTextureRegionAlignmentMode
 @abstract MTLSparseTextureRegionAlignmentMode determines type of alignment used when converting from pixel region to tile region.
 */
typedef NS_ENUM(NSUInteger, MTLSparseTextureRegionAlignmentMode)
{
    MTLSparseTextureRegionAlignmentModeOutward   = 0,
    MTLSparseTextureRegionAlignmentModeInward    = 1,
} API_AVAILABLE(macos(11.0), macCatalyst(14.0), ios(13.0));
</code></pre><h1 id="&#x5B9E;&#x4F8B;&#x5C5E;&#x6027;"><a name="&#x5B9E;&#x4F8B;&#x5C5E;&#x6027;" class="anchor-navigation-ex-anchor" href="#&#x5B9E;&#x4F8B;&#x5C5E;&#x6027;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B9E;&#x4F8B;&#x5C5E;&#x6027;</h1>
<pre><code>@property(readonly) BOOL supportsPrimitiveMotionBlur;

@property(readonly) BOOL supportsRenderDynamicLibraries;
</code></pre><h1 id="&#x5B9E;&#x4F8B;&#x65B9;&#x6CD5;"><a name="&#x5B9E;&#x4F8B;&#x65B9;&#x6CD5;" class="anchor-navigation-ex-anchor" href="#&#x5B9E;&#x4F8B;&#x65B9;&#x6CD5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B9E;&#x4F8B;&#x65B9;&#x6CD5;</h1>
<pre><code>- (id&lt;MTLLibrary&gt;)newLibraryWithStitchedDescriptor:(MTLStitchedLibraryDescriptor *)descriptor 
                                             error:(NSError * _Nullable *)error;

- (void)newLibraryWithStitchedDescriptor:(MTLStitchedLibraryDescriptor *)descriptor 
                       completionHandler:(MTLNewLibraryCompletionHandler)completionHandler;
</code></pre><pre><code>/*!
 @brief Type for device notifications
*/
typedef NSString *MTLDeviceNotificationName NS_STRING_ENUM API_AVAILABLE(macos(10.13)) API_UNAVAILABLE(ios);

/*!
 @brief This notification is posted when a new Metal device is added to the system
*/
MTL_EXTERN MTLDeviceNotificationName const MTLDeviceWasAddedNotification API_AVAILABLE(macos(10.13)) API_UNAVAILABLE(ios);

/*!
 @brief This notification is posted when the user has requested that applications cease using a particular device.  Applications
 should assume that the device will be removed (terminated) imminently.  Additionally, the device will be removed from the internal
 device array prior to this notification being posted.  Applications should immediately begin the process of releasing all resources
 created on the given device, as well as any references to the device itself.
*/
MTL_EXTERN MTLDeviceNotificationName const MTLDeviceRemovalRequestedNotification API_AVAILABLE(macos(10.13)) API_UNAVAILABLE(ios);

/*!
 @brief This notification is posted if the device is removed while there are still outstanding references to it, due to either a surprise
  or forced disconnect by the user.  Applications must expect that any attempt to use the device after this point will fail.
*/
MTL_EXTERN MTLDeviceNotificationName const MTLDeviceWasRemovedNotification API_AVAILABLE(macos(10.13)) API_UNAVAILABLE(ios);

/*!
 @brief Block signature for device notifications
 */
typedef void (^MTLDeviceNotificationHandler)(id &lt;MTLDevice&gt; device, MTLDeviceNotificationName notifyName) API_AVAILABLE(macos(10.13)) API_UNAVAILABLE(ios);




/*!
 @enum MTLReadWriteTextureTier
 @abstract MTLReadWriteTextureTier determines support level for read-write texture formats.
 */
typedef NS_ENUM(NSUInteger, MTLReadWriteTextureTier)
{
    MTLReadWriteTextureTierNone = 0,
    MTLReadWriteTextureTier1 = 1,
    MTLReadWriteTextureTier2 = 2,
} API_AVAILABLE(macos(10.13), ios(11.0));

/*!
 @enum MTLArgumentBuffersTier
 @abstract MTLArgumentBuffersTier determines support level for argument buffers.
 */
typedef NS_ENUM(NSUInteger, MTLArgumentBuffersTier)
{
    MTLArgumentBuffersTier1 = 0,
    MTLArgumentBuffersTier2 = 1,
} API_AVAILABLE(macos(10.13), ios(11.0));

/*!
 @abstract Represent a memory size and alignment in bytes.
 */
typedef struct {
    NSUInteger size;
    NSUInteger align;
} MTLSizeAndAlign;

/* Convenience typedefs that make it easy to declare storage for certain return types. */
typedef __autoreleasing MTLRenderPipelineReflection * __nullable MTLAutoreleasedRenderPipelineReflection;
typedef __autoreleasing MTLComputePipelineReflection * __nullable MTLAutoreleasedComputePipelineReflection;

typedef void (^MTLNewLibraryCompletionHandler)(id &lt;MTLLibrary&gt; __nullable library, NSError * __nullable error);



/*!
 * @class MTLArgumentDescriptor
 * @abstract Represents a member of an argument buffer
 */
MTL_EXPORT API_AVAILABLE(macos(10.13), ios(11.0))
@interface MTLArgumentDescriptor : NSObject &lt;NSCopying&gt;

/*!
 * @method argumentDescriptor
 * @abstract Create an autoreleased default argument descriptor
 */
+ (MTLArgumentDescriptor *)argumentDescriptor;

/*!
 * @property dataType
 * @abstract For constants, the data type. Otherwise, MTLDataTypeTexture, MTLDataTypeSampler, or
 * MTLDataTypePointer.
 */
@property (nonatomic) MTLDataType dataType;

/*!
 * @property index
 * @abstract The binding point index of the argument
 */
@property (nonatomic) NSUInteger index;

/*!
 * @property arrayLength
 * @abstract The length of an array of constants, textures, or samplers, or 0 for non-array arguments
 */
@property (nonatomic) NSUInteger arrayLength;

/*!
 * @property access
 * @abstract Access flags for the argument
 */
@property (nonatomic) MTLArgumentAccess access;

/*!
 * @property textureType
 * @abstract For texture arguments, the texture type
 */
@property (nonatomic) MTLTextureType textureType;

/*!
 @property constantBlockAlignment
 @abstract if set forces the constant block to be aligned to the given alignment
 @discussion Should only be set on the first constant of the block and is only valid if a corresponding
     explicit &quot;alignas&quot; is applied to the constant in the metal shader language.
 */
@property (nonatomic) NSUInteger constantBlockAlignment;

@end
</code></pre><footer class="page-footer"><span class="copyright">Copyright &#x82CF;&#x6CAB;&#x79BB; all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x4FEE;&#x8BA2;&#x65F6;&#x95F4;&#xFF1A;
2019-11-27 16:14:52
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> 搜索结果 "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">没有搜索结果 "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="MTKView.html" class="navigation navigation-prev " aria-label="Previous page: MTKView API">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="MDLMesh.html" class="navigation navigation-next " aria-label="Next page: MDLMesh API">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"MTLDevice API","level":"1.3.6.2","depth":3,"next":{"title":"MDLMesh API","level":"1.3.6.3","depth":3,"path":"计算机基础/计算机图形学/MetalDocument/MDLMesh.md","ref":"计算机基础/计算机图形学/MetalDocument/MDLMesh.md","articles":[]},"previous":{"title":"MTKView API","level":"1.3.6.1","depth":3,"path":"计算机基础/计算机图形学/MetalDocument/MTKView.md","ref":"计算机基础/计算机图形学/MetalDocument/MTKView.md","articles":[]},"dir":"ltr"},"config":{"plugins":["highlight","-search","-lunr","search-pro","-sharing","splitter","expandable-chapters-small","expandable-chapters","code","back-to-top-button","anchor-navigation-ex","tbfed-pagefooter"],"root":"./","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright 苏沫离","modify_label":"修订时间：","modify_format":"2019-MM-DD HH:mm:ss"},"splitter":{},"search-pro":{},"code":{"copyButtons":true},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":false,"showLevel":false},"back-to-top-button":{},"expandable-chapters-small":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{}},"theme":"default","author":"苏莫离","pdf":{"pageNumbers":true,"fontSize":17,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":0,"left":0,"top":0,"bottom":0}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"个人博客","gitbook":"*","description":"苏莫离的个人博客","direction":"ltr"},"file":{"path":"计算机基础/计算机图形学/MetalDocument/MTLDevice.md","mtime":"2021-11-27T08:14:52.023Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-11-30T13:10:32.285Z"},"basePath":"../../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../../gitbook/gitbook.js"></script>
    <script src="../../../gitbook/theme.js"></script>
    
        
        <script src="../../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

