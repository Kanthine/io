# 单一职责原则

单一职责原则英文全称 `Single Responsibility Principle`，简称 SRP！这个设计原则对于类的职责定义备受争议：
* 什么是类的职责？
* 怎么划分类的职责？

下述代码主要负责维护用户信息、管理用户等！

```
@interface UserInfo : NSObject

- (void)setUserID:(NSString *)userID;
- (NSString *)getUserID;

- (void)setPassword:(NSString *)password;
- (void)changePassword:(NSString *)password;
- (NSString *)getPassword;

- (void)setUserName:(NSString *)name;
- (NSString *)getUserName;

+ (BOOL)deleteUserWithID:(NSString *)userID;
+ (BOOL)addUserWithID:(NSString *)userID;

@end
```

这种设计犯了一个严重的错误：用户的属性与用户的行为没有分开！这使得 `UserInfo` 的 API 设计的一团糟
* 应该将用户的信息抽取成一个 BO （业务对象 `Business Object`）；
* 将用户的行为抽取成一个 Biz （业务逻辑 `Business Logic`）；

按照这个思路重新设计 API:

```
/// 负责用户的属性：收集、反馈用户的属性信息
@interface UserInfo (BO)

- (void)setUserID:(NSString *)userID;
- (NSString *)getUserID;

- (void)setUserName:(NSString *)name;
- (NSString *)getUserName;

- (void)setPassword:(NSString *)password;
- (NSString *)getPassword;

@end

/// 负责用户的行为，完成用户信息的维护与变更
@interface UserInfo (Biz)

- (void)changePassword:(NSString *)password;
+ (BOOL)deleteUserWithID:(NSString *)userID;
+ (BOOL)addUserWithID:(NSString *)userID;

@end
```

以上将一个接口，拆分成两个接口的动作，就是依赖了单一职责原则！

> 单一职责原则：应该有且仅有一个原因引起类、接口的变更！

使用单一职责的好处：
* 类的复杂性降低，实现什么职责都有清晰明确的定义；
* 可读性提高；
* 可维护性提高
* 变更引起的风险降低；

在项目的迭代开发中，变更是必不可少的，如果接口的单一职责做得好，一个接口修改只对相应的实现类有影响，对其他接口没有影响，这对系统的扩展性、维护性都有很大的帮助！

__注意:__ 单一职责原则提出了编写一个程序的标准，用 _职责_ 或者_变化原因_ 来衡量接口或者类设计是否优良！但 _职责_ 或者_变化原因_ 是不可度量的，因项目而异，因环境而异！ 

单一职责原则适用于类、接口、方法
* 对于接口，一定要做到职责单一
* 对于方法，要职则清晰，仅做一件事情！方法职责不清晰、不单一，会让后来人猜测这个方法到底处理什么逻辑，不利于维护！
* 对于类的设计，尽量做到职责单一；

单一职责原则，从业务逻辑的角度划分！
